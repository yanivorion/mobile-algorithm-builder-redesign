var vn=Object.defineProperty;var Pn=(t,a,e)=>a in t?vn(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var V=(t,a,e)=>(Pn(t,typeof a!="symbol"?a+"":a,e),e);import{c as P,e as p,b as h,t as g,d as m,j as st,f as _,l as D,g as et,a as f,E as k,i as ut,k as W,D as Yt,I as _n,P as In,p as An,w as H}from"./float-15cdf841.js";function Bt(t){return et(Object.assign(t,{domainToMappings:{"editor._base_domain_":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],"blocks._base_domain_":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],"create.editorx":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],"manage._base_domain_":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],"www._base_domain_":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],"api._api_base_domain_":[{srcPath:"/autocms/v1/tasks",destPath:"/v1"}],"www.wixapis.com":[{srcPath:"/cms/v1/tasks",destPath:"/v1"}],"*.dev.wix-code.com":[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}],_:[{srcPath:"/_api/autocms/v1/tasks",destPath:"/v1"}]}}))}var Vt="@wix/auto_sdk_data_tasks";function Dn(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"task.startedAt"},{path:"task.finishedAt"},{path:"task.updatePublishStatusOptions.scheduleDraftStatusOptions.date"},{path:"task.updatePublishStatusOptions.schedulePublishedStatusOptions.date"}]}]);return{entityFqdn:"wix.data.autocms.v2.background_task",method:"POST",methodFqn:"wix.cloud.autocms.tasks.v1.TaskService.CreateTask",packageName:Vt,migrationOptions:{optInTransformResponse:!0},url:Bt({protoPath:"/v1",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"task.startedAt"},{path:"task.finishedAt"},{path:"task.updatePublishStatusOptions.scheduleDraftStatusOptions.date"},{path:"task.updatePublishStatusOptions.schedulePublishedStatusOptions.date"}]}])}}return a}function bn(t){function a({host:e}){return{entityFqdn:"wix.data.autocms.v2.background_task",method:"GET",methodFqn:"wix.cloud.autocms.tasks.v1.TaskService.ListTasks",packageName:Vt,migrationOptions:{optInTransformResponse:!0},url:Bt({protoPath:"/v1",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"tasks.startedAt"},{path:"tasks.finishedAt"},{path:"tasks.updatePublishStatusOptions.scheduleDraftStatusOptions.date"},{path:"tasks.updatePublishStatusOptions.schedulePublishedStatusOptions.date"}]}])}}return a}function Nn(t){function a({host:e}){return{entityFqdn:"wix.data.autocms.v2.background_task",method:"GET",methodFqn:"wix.cloud.autocms.tasks.v1.TaskService.GetTask",packageName:Vt,migrationOptions:{optInTransformResponse:!0},url:Bt({protoPath:"/v1/{taskId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"task.startedAt"},{path:"task.finishedAt"},{path:"task.updatePublishStatusOptions.scheduleDraftStatusOptions.date"},{path:"task.updatePublishStatusOptions.schedulePublishedStatusOptions.date"}]}])}}return a}function Sn(t){function a({host:e}){return{entityFqdn:"wix.data.autocms.v2.background_task",method:"DELETE",methodFqn:"wix.cloud.autocms.tasks.v1.TaskService.CancelTask",packageName:Vt,migrationOptions:{optInTransformResponse:!0},url:Bt({protoPath:"/v1/{taskId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"task.startedAt"},{path:"task.finishedAt"},{path:"task.updatePublishStatusOptions.scheduleDraftStatusOptions.date"},{path:"task.updatePublishStatusOptions.schedulePublishedStatusOptions.date"}]}])}}return a}var $a=(t=>(t.UNKNOWN="UNKNOWN",t.DELETE_BY_QUERY="DELETE_BY_QUERY",t.COPY_FIELD_DATA="COPY_FIELD_DATA",t.EDIT_FIELD_DATA="EDIT_FIELD_DATA",t.UPDATE_PUBLISH_STATUS="UPDATE_PUBLISH_STATUS",t))($a||{}),Ma=(t=>(t.NEW="NEW",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t))(Ma||{}),La=(t=>(t.UNKNOWN_ENVIRONMENT="UNKNOWN_ENVIRONMENT",t.SANDBOX="SANDBOX",t.SANDBOX_PREFERRED="SANDBOX_PREFERRED",t.LIVE="LIVE",t))(La||{}),qa=(t=>(t.UNDEFINED="UNDEFINED",t.SET_PUBLISHED_STATUS="SET_PUBLISHED_STATUS",t.SET_DRAFT_STATUS="SET_DRAFT_STATUS",t.SCHEDULE_PUBLISHED_STATUS="SCHEDULE_PUBLISHED_STATUS",t.SCHEDULE_DRAFT_STATUS="SCHEDULE_DRAFT_STATUS",t.CANCEL_SCHEDULING="CANCEL_SCHEDULING",t))(qa||{}),Ba=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(Ba||{});async function yn(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({task:t}),r=Dn(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.task}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{task:"$[0]"},singleArgumentUnchanged:!1},["task"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function xn(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({paging:t==null?void 0:t.paging}),r=bn(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Cn(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({taskId:t}),r=Nn(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.task}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{taskId:"$[0]"},singleArgumentUnchanged:!1},["taskId"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function wn(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({taskId:t}),r=Sn(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{taskId:"$[0]"},singleArgumentUnchanged:!1},["taskId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function On(t){return a=>yn(a,{httpClient:t})}function Rn(t){return a=>xn(a,{httpClient:t})}function En(t){return a=>Cn(a,{httpClient:t})}function Tn(t){return a=>wn(a,{httpClient:t})}var fn=P(On),kn=P(Rn),Un=P(En),Fn=P(Tn);const Xh=Object.freeze(Object.defineProperty({__proto__:null,Environment:La,Operation:qa,Status:Ma,Type:$a,WebhookIdentityType:Ba,cancelTask:Fn,createTask:fn,getTask:Un,listTasks:kn},Symbol.toStringTag,{value:"Module"}));function ea(t){return t&&t.join(",")}function bt(t){return et(Object.assign(t,{domainToMappings:{"editor._base_domain_":[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}],"create.editorx":[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}],_:[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}],"manage._base_domain_":[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}],"www.wixapis.com":[{srcPath:"/data-move-scheduler",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/wix-data-hub-scheduler",destPath:""}]}}))}var Nt="@wix/auto_sdk_data_data-sync-jobs";function $n(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"syncJob.lastExecutionDate"},{path:"syncJob.nextExecutionDate"}]}]);return{entityFqdn:"wix.data.sync.v1.jobs",method:"POST",methodFqn:"wix.hub.v1.DataMovementSchedulerService.CreateDataSyncJob",packageName:Nt,migrationOptions:{optInTransformResponse:!0},url:bt({protoPath:"/v1/sync-job",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"syncJob.lastExecutionDate"},{path:"syncJob.nextExecutionDate"}]}])}}return a}function Mn(t){function a({host:e}){const n=m(t,[{transformFn:ea,paths:[{path:"mask"}]},{transformFn:st,paths:[{path:"syncJob.lastExecutionDate"},{path:"syncJob.nextExecutionDate"}]}]);return{entityFqdn:"wix.data.sync.v1.jobs",method:"PATCH",methodFqn:"wix.hub.v1.DataMovementSchedulerService.UpdateDataSyncJob",packageName:Nt,migrationOptions:{optInTransformResponse:!0},url:bt({protoPath:"/v1/sync-job",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"syncJob.lastExecutionDate"},{path:"syncJob.nextExecutionDate"}]}])}}return a}function Ln(t){function a({host:e}){return{entityFqdn:"wix.data.sync.v1.jobs",method:"DELETE",methodFqn:"wix.hub.v1.DataMovementSchedulerService.DeleteDataSyncJob",packageName:Nt,migrationOptions:{optInTransformResponse:!0},url:bt({protoPath:"/v1/sync-job/{syncJobId}",data:t,host:e}),params:D(t)}}return a}function qn(t){function a({host:e}){return{entityFqdn:"wix.data.sync.v1.jobs",method:"GET",methodFqn:"wix.hub.v1.DataMovementSchedulerService.GetDataSyncJob",packageName:Nt,migrationOptions:{optInTransformResponse:!0},url:bt({protoPath:"/v1/sync-jobs/{syncJobId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"syncJob.lastExecutionDate"},{path:"syncJob.nextExecutionDate"}]}])}}return a}function Bn(t){function a({host:e}){return{entityFqdn:"wix.data.sync.v1.jobs",method:"GET",methodFqn:"wix.hub.v1.DataMovementSchedulerService.ListDataSyncJobs",packageName:Nt,migrationOptions:{optInTransformResponse:!0},url:bt({protoPath:"/v1/sync-jobs",data:t,host:e}),params:D(t,!0),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"syncJobs.lastExecutionDate"},{path:"syncJobs.nextExecutionDate"}]}])}}return a}var Va=(t=>(t.LIVE="LIVE",t.SANDBOX="SANDBOX",t))(Va||{}),Wa=(t=>(t.UNKNOWN="UNKNOWN",t.CSV="CSV",t.JSONL="JSONL",t))(Wa||{}),Ga=(t=>(t.OVERWRITE="OVERWRITE",t.SKIP_EXISTING="SKIP_EXISTING",t.TRUNCATE_BEFORE="TRUNCATE_BEFORE",t))(Ga||{}),ja=(t=>(t.ANY="ANY",t.STRING="STRING",t.NUMBER="NUMBER",t.BOOLEAN="BOOLEAN",t.DATE="DATE",t.DATETIME="DATETIME",t.BINARY="BINARY",t.OBJECT="OBJECT",t.ARRAY="ARRAY",t.URL="URL",t.WIX_MEDIA_URL="WIX_MEDIA_URL",t.WIX_MEDIA_IMAGE_URL="WIX_MEDIA_IMAGE_URL",t.WIX_MEDIA_VIDEO_URL="WIX_MEDIA_VIDEO_URL",t.WIX_MEDIA_DOCUMENT_URL="WIX_MEDIA_DOCUMENT_URL",t.IMAGE_URL="IMAGE_URL",t.VIDEO_URL="VIDEO_URL",t))(ja||{}),Ka=(t=>(t.UNKNOWN_REQUESTED_FIELD="UNKNOWN_REQUESTED_FIELD",t.NEXT_SCHEDULE_EXECUTION="NEXT_SCHEDULE_EXECUTION",t))(Ka||{}),Ya=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(Ya||{});async function Vn(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({syncJob:t,fields:a==null?void 0:a.fields}),i=$n(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.syncJob}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{syncJob:"$[0]",fields:"$[1].fields"},singleArgumentUnchanged:!1},["syncJob","options"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Wn(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({syncJob:t,fields:a==null?void 0:a.fields}),i=Mn(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{syncJob:"$[0]",fields:"$[1].fields"},singleArgumentUnchanged:!1},["syncJob","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Gn(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({syncJobId:t}),r=Ln(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);(c=e==null?void 0:e.onSuccess)==null||c.call(e,s)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{syncJobId:"$[0]"},singleArgumentUnchanged:!1},["syncJobId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function jn(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({syncJobId:t,fields:a==null?void 0:a.fields}),i=qn(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.syncJob}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{syncJobId:"$[0]",fields:"$[1].fields"},singleArgumentUnchanged:!1},["syncJobId","options"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Kn(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({fields:t==null?void 0:t.fields,paging:t==null?void 0:t.paging,filter:t==null?void 0:t.filter}),r=Bn(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{fields:"$[0].fields",paging:"$[0].paging",filter:"$[0].filter"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function Yn(t){return(a,e)=>Vn(a,e,{httpClient:t})}function Jn(t){return(a,e)=>Wn(a,e,{httpClient:t})}function Hn(t){return a=>Gn(a,{httpClient:t})}function Xn(t){return(a,e)=>jn(a,e,{httpClient:t})}function zn(t){return a=>Kn(a,{httpClient:t})}var Qn=k("wix.data.sync.v1.jobs_created",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.lastExecutionDate"},{path:"entity.nextExecutionDate"},{path:"metadata.eventTime"}]}])))(),Zn=k("wix.data.sync.v1.jobs_deleted",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"undefined.lastExecutionDate"},{path:"undefined.nextExecutionDate"},{path:"metadata.eventTime"}]}])))(),tr=k("wix.data.sync.v1.jobs_updated",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.lastExecutionDate"},{path:"entity.nextExecutionDate"},{path:"metadata.eventTime"}]}])))(),ar=P(Yn),er=P(Jn),nr=P(Hn),rr=P(Xn),sr=P(zn),ir=f(Qn),or=f(Zn),cr=f(tr);const zh=Object.freeze(Object.defineProperty({__proto__:null,FieldType:ja,Fields:Ka,FileFormat:Wa,WebhookIdentityType:Ya,WixDataEnvironment:Va,WritePolicy:Ga,createDataSyncJob:ar,deleteDataSyncJob:nr,getDataSyncJob:rr,listDataSyncJobs:sr,onJobsCreated:ir,onJobsDeleted:or,onJobsUpdated:cr,updateDataSyncJob:er},Symbol.toStringTag,{value:"Module"}));function ht(t){return et(Object.assign(t,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/cloud-data/v1/permissions",destPath:"/v1/permissions"}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v1/permissions",destPath:"/v1/permissions"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v1/permissions",destPath:"/v1/permissions"}],"create.editorx":[{srcPath:"/_api/cloud-data/v1/permissions",destPath:"/v1/permissions"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/permissions",destPath:"/v1/permissions"}],"*.dev.wix-code.com":[{srcPath:"/_api/data/v1/permissions",destPath:"/v1/permissions"}],_:[{srcPath:"/_api/data/v1/permissions",destPath:"/v1/permissions"}]}}))}var mt="@wix/auto_sdk_data_permissions";function dr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"GET",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.GetPermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions",data:t,host:e}),params:D(t)}}return a}function lr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"POST",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.UpdatePermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions",data:t,host:e}),data:t}}return a}function ur(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"POST",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.AddSpecialPermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions/special",data:t,host:e}),data:t}}return a}function hr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"POST",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.UpdateSpecialPermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions/special/{specialPermissions.id}",data:t,host:e}),data:t}}return a}function mr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"DELETE",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.RemoveSpecialPermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions/special/{specialPermissionsId}",data:t,host:e}),params:D(t)}}return a}function pr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_permissions",method:"GET",methodFqn:"wix.cloud.permissions.v1.DataPermissionsService.GetMyPermissions",packageName:mt,migrationOptions:{optInTransformResponse:!0},url:ht({protoPath:"/v1/permissions/current",data:t,host:e}),params:D(t)}}return a}var Ja=(t=>(t.UNKNOWN="UNKNOWN",t.ANYONE="ANYONE",t.SITE_MEMBER="SITE_MEMBER",t.SITE_MEMBER_AUTHOR="SITE_MEMBER_AUTHOR",t.CMS_EDITOR="CMS_EDITOR",t.PRIVILEGED="PRIVILEGED",t))(Ja||{}),Ha=(t=>(t.UNSPECIFIED="UNSPECIFIED",t.ALLOWED="ALLOWED",t))(Ha||{}),Xa=(t=>(t.UNKNOWN="UNKNOWN",t.ACCOUNT="ACCOUNT",t.USER="USER",t.USER_GROUP="USER_GROUP",t.MEMBER_GROUP="MEMBER_GROUP",t.VISITOR_GROUP="VISITOR_GROUP",t.EXTERNAL_APP="EXTERNAL_APP",t.ACCOUNT_GROUP="ACCOUNT_GROUP",t.WIX_APP="WIX_APP",t))(Xa||{}),za=(t=>(t.UNKNOWN_CTX="UNKNOWN_CTX",t.ORG_CTX="ORG_CTX",t.ACCOUNT_CTX="ACCOUNT_CTX",t))(za||{}),Qa=(t=>(t.UNKNOWN_SIMPLE_OP="UNKNOWN_SIMPLE_OP",t.EQUAL="EQUAL",t))(Qa||{}),Za=(t=>(t.UNKNOWN_JOIN_OP="UNKNOWN_JOIN_OP",t.OR="OR",t.AND="AND",t))(Za||{}),te=(t=>(t.UNKNOWN_EFFECT="UNKNOWN_EFFECT",t.ALLOW="ALLOW",t.DENY="DENY",t))(te||{}),ae=(t=>(t.UNKNOWN_STATUS="UNKNOWN_STATUS",t.PREDEFINED="PREDEFINED",t.CUSTOM="CUSTOM",t.INLINE_CUSTOM="INLINE_CUSTOM",t))(ae||{}),ee=(t=>(t.UNKNOWN_TYPE="UNKNOWN_TYPE",t.WIX="WIX",t.WIX_ACCOUNT="WIX_ACCOUNT",t))(ee||{});async function gr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t}),r=dr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]"},singleArgumentUnchanged:!1},["dataCollectionId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function vr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataPermissions:t}),r=lr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataPermissions:"$[0]"},singleArgumentUnchanged:!1},["dataPermissions"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Pr(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,specialPermissions:a}),i=ur(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",specialPermissions:"$[1]"},singleArgumentUnchanged:!1},["dataCollectionId","specialPermissions"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function _r(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({specialPermissions:{...a,id:t}}),i=hr(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{specialPermissions:"$[1]"},explicitPathsToArguments:{"specialPermissions.id":"$[0]"},singleArgumentUnchanged:!1},["_id","specialPermissions"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Ir(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({specialPermissionsId:t}),r=mr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{specialPermissionsId:"$[0]"},singleArgumentUnchanged:!1},["specialPermissionsId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Ar(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t}),r=pr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]"},singleArgumentUnchanged:!1},["dataCollectionId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function Dr(t){return a=>gr(a,{httpClient:t})}function br(t){return a=>vr(a,{httpClient:t})}function Nr(t){return(a,e)=>Pr(a,e,{httpClient:t})}function Sr(t){return(a,e)=>_r(a,e,{httpClient:t})}function yr(t){return a=>Ir(a,{httpClient:t})}function xr(t){return a=>Ar(a,{httpClient:t})}var Cr=P(Dr),wr=P(br),Or=P(Nr),Rr=P(Sr),Er=P(yr),Tr=P(xr);const Qh=Object.freeze(Object.defineProperty({__proto__:null,Access:Ha,AccessLevel:Ja,Effect:te,JoinedConditionOperator:Za,PolicyOwnerType:ee,PolicyType:ae,SimpleConditionOperator:Qa,SubjectContextType:za,SubjectType:Xa,addSpecialPermissions:Or,getMyPermissions:Tr,getPermissions:Cr,removeSpecialPermissions:Er,updatePermissions:wr,updateSpecialPermissions:Rr},Symbol.toStringTag,{value:"Module"}));function it(t){return et(Object.assign(t,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/cloud-data",destPath:""}],"code._base_domain_":[{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"}],"cloud-data.wix-code.com":[{srcPath:"",destPath:""}],_:[{srcPath:"/_api/cloud-data",destPath:""}],"www._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"dev._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""}],"bo._base_domain_":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wixbo.ai":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wix-bo.com":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"manage._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"create.editorx":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/collections",destPath:"/v1/wix-data/collections"},{srcPath:"/wix-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/wix-data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"},{srcPath:"/wix-data/v1/external-databases",destPath:"/v1/external-databases"},{srcPath:"/wix-data/v2",destPath:"/v2"},{srcPath:"/data/v2/collections",destPath:"/v2/collections"},{srcPath:"/data/v2/items",destPath:"/v2/items"},{srcPath:"/data/v2/bulk/items",destPath:"/v2/bulk/items"},{srcPath:"/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}],"www.wixgateway.com":[{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"}],"*.dev.wix-code.com":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}]}}))}var ot="@wix/auto_sdk_data_sharing";function fr(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"dataSharingPolicy.createdDate"},{path:"dataSharingPolicy.updatedDate"}]}]);return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"POST",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.CreateDataSharingPolicy",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/policies",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataSharingPolicy.createdDate"},{path:"dataSharingPolicy.updatedDate"}]}])}}return a}function kr(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"dataSharingPolicy.createdDate"},{path:"dataSharingPolicy.updatedDate"}]}]);return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"POST",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.UpdateDataSharingPolicy",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/policies/{dataSharingPolicy.id}",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataSharingPolicy.createdDate"},{path:"dataSharingPolicy.updatedDate"}]}])}}return a}function Ur(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"DELETE",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.DeleteDataSharingPolicy",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/policies/{dataSharingPolicyId}",data:t,host:e}),params:D(t)}}return a}function Fr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"GET",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.GetDataSharingPolicy",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/policies/{dataSharingPolicyId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataSharingPolicy.createdDate"},{path:"dataSharingPolicy.updatedDate"}]}])}}return a}function $r(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"GET",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.ListDataSharingPolicies",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/policies",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataSharingPolicies.createdDate"},{path:"dataSharingPolicies.updatedDate"}]}])}}return a}function Mr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"GET",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.ListSharedDataCollections",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/shared",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"connections.createdDate"},{path:"connections.updatedDate"}]}])}}return a}function Lr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"POST",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.ConnectToSharedCollection",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/connect-to-shared-collection",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"connection.createdDate"},{path:"connection.updatedDate"}]}])}}return a}function qr(t){function a({host:e}){return{entityFqdn:"wix.data.v1.data_sharing_policy",method:"POST",methodFqn:"com.wixpress.cloud.data.api.share.DataCollectionSharingService.DisconnectFromSharedCollection",packageName:ot,migrationOptions:{optInTransformResponse:!0},url:it({protoPath:"/v1/data-collection-sharing/disconnect-from-shared-collection",data:t,host:e}),data:t}}return a}var ne=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(ne||{});async function Br(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataSharingPolicy:t==null?void 0:t.dataSharingPolicy}),r=fr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.dataSharingPolicy}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataSharingPolicy:"$[0].dataSharingPolicy"},singleArgumentUnchanged:!1},["options"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function Vr(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataSharingPolicy:{...a,id:t}}),i=kr(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.dataSharingPolicy}catch(l){const u=g(l,{spreadPathsToArguments:{dataSharingPolicy:"$[1]"},explicitPathsToArguments:{"dataSharingPolicy.id":"$[0]"},singleArgumentUnchanged:!1},["_id","dataSharingPolicy"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Wr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataSharingPolicyId:t}),r=Ur(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataSharingPolicyId:"$[0]"},singleArgumentUnchanged:!1},["dataSharingPolicyId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Gr(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataSharingPolicyId:t}),r=Fr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.dataSharingPolicy}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataSharingPolicyId:"$[0]"},singleArgumentUnchanged:!1},["dataSharingPolicyId"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function jr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionIds:t==null?void 0:t.dataCollectionIds,paging:t==null?void 0:t.paging}),r=$r(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionIds:"$[0].dataCollectionIds",paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Kr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionIds:t==null?void 0:t.dataCollectionIds,sharedWithCurrent:t==null?void 0:t.sharedWithCurrent,paging:t==null?void 0:t.paging,sharedWithCurrentSite:t==null?void 0:t.sharedWithCurrentSite}),r=Mr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionIds:"$[0].dataCollectionIds",sharedWithCurrent:"$[0].sharedWithCurrent",paging:"$[0].paging",sharedWithCurrentSite:"$[0].sharedWithCurrentSite"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Yr(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({namespace:t,displayNamespace:a==null?void 0:a.displayNamespace,dataSharingPolicyId:a==null?void 0:a.dataSharingPolicyId}),i=Lr(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{namespace:"$[0]",displayNamespace:"$[1].displayNamespace",dataSharingPolicyId:"$[1].dataSharingPolicyId"},singleArgumentUnchanged:!1},["namespace","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Jr(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t==null?void 0:t.dataCollectionId,targetDataCollectionId:t==null?void 0:t.targetDataCollectionId}),r=qr(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0].dataCollectionId",targetDataCollectionId:"$[0].targetDataCollectionId"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function Hr(t){return a=>Br(a,{httpClient:t})}function Xr(t){return(a,e)=>Vr(a,e,{httpClient:t})}function zr(t){return a=>Wr(a,{httpClient:t})}function Qr(t){return a=>Gr(a,{httpClient:t})}function Zr(t){return a=>jr(a,{httpClient:t})}function ts(t){return a=>Kr(a,{httpClient:t})}function as(t){return(a,e)=>Yr(a,e,{httpClient:t})}function es(t){return a=>Jr(a,{httpClient:t})}var ns=k("wix.data.v1.data_sharing_policy_created",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.createdDate"},{path:"entity.updatedDate"},{path:"metadata.eventTime"}]}])))(),rs=k("wix.data.v1.data_sharing_policy_deleted",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"undefined.createdDate"},{path:"undefined.updatedDate"},{path:"metadata.eventTime"}]}])))(),ss=k("wix.data.v1.data_sharing_policy_shared_collection_connected",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"data.connection.createdDate"},{path:"data.connection.updatedDate"},{path:"metadata.eventTime"}]}])))(),is=k("wix.data.v1.data_sharing_policy_shared_collection_disconnected",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"data.connection.createdDate"},{path:"data.connection.updatedDate"},{path:"metadata.eventTime"}]}])))(),os=k("wix.data.v1.data_sharing_policy_updated",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.createdDate"},{path:"entity.updatedDate"},{path:"metadata.eventTime"}]}])))(),cs=P(Hr),ds=P(Xr),ls=P(zr),us=P(Qr),hs=P(Zr),ms=P(ts),ps=P(as),gs=P(es),vs=f(ns),Ps=f(rs),_s=f(ss),Is=f(is),As=f(os);const Zh=Object.freeze(Object.defineProperty({__proto__:null,WebhookIdentityType:ne,connectToSharedCollection:ps,createDataSharingPolicy:cs,deleteDataSharingPolicy:ls,disconnectFromSharedCollection:gs,getDataSharingPolicy:us,listDataSharingPolicies:hs,listSharedDataCollections:ms,onDataSharingPolicyCreated:vs,onDataSharingPolicyDeleted:Ps,onDataSharingPolicySharedCollectionConnected:_s,onDataSharingPolicySharedCollectionDisconnected:Is,onDataSharingPolicyUpdated:As,updateDataSharingPolicy:ds},Symbol.toStringTag,{value:"Module"}));function St(t){return et(Object.assign(t,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/cloud-data",destPath:""}],"code._base_domain_":[{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"}],"cloud-data.wix-code.com":[{srcPath:"",destPath:""}],_:[{srcPath:"/_api/cloud-data",destPath:""}],"www._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"dev._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""}],"bo._base_domain_":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wixbo.ai":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wix-bo.com":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"manage._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"create.editorx":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/collections",destPath:"/v1/wix-data/collections"},{srcPath:"/wix-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/wix-data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"},{srcPath:"/wix-data/v1/external-databases",destPath:"/v1/external-databases"},{srcPath:"/wix-data/v2",destPath:"/v2"},{srcPath:"/data/v2/collections",destPath:"/v2/collections"},{srcPath:"/data/v2/items",destPath:"/v2/items"},{srcPath:"/data/v2/bulk/items",destPath:"/v2/bulk/items"},{srcPath:"/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}],"www.wixgateway.com":[{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"}],"*.dev.wix-code.com":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}]}}))}var yt="@wix/auto_sdk_data_external-database-connections";function Ds(t){function a({host:e}){return{entityFqdn:"wix.data.v1.external_database_connection",method:"GET",methodFqn:"com.wixpress.cloud.data.api.externaldatabase.ExternalDatabaseConnectionService.GetExternalDatabaseConnection",packageName:yt,migrationOptions:{optInTransformResponse:!0},url:St({protoPath:"/v1/external-database-connections/{name}",data:t,host:e}),params:D(t)}}return a}function bs(t){function a({host:e}){return{entityFqdn:"wix.data.v1.external_database_connection",method:"GET",methodFqn:"com.wixpress.cloud.data.api.externaldatabase.ExternalDatabaseConnectionService.ListExternalDatabaseConnections",packageName:yt,migrationOptions:{optInTransformResponse:!0},url:St({protoPath:"/v1/external-database-connections",data:t,host:e}),params:D(t)}}return a}function Ns(t){function a({host:e}){return{entityFqdn:"wix.data.v1.external_database_connection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.externaldatabase.ExternalDatabaseConnectionService.CreateExternalDatabaseConnection",packageName:yt,migrationOptions:{optInTransformResponse:!0},url:St({protoPath:"/v1/external-database-connections",data:t,host:e}),data:t}}return a}function Ss(t){function a({host:e}){return{entityFqdn:"wix.data.v1.external_database_connection",method:"PUT",methodFqn:"com.wixpress.cloud.data.api.externaldatabase.ExternalDatabaseConnectionService.UpdateExternalDatabaseConnection",packageName:yt,migrationOptions:{optInTransformResponse:!0},url:St({protoPath:"/v1/external-database-connections/{externalDatabaseConnection.name}",data:t,host:e}),data:t}}return a}function ys(t){function a({host:e}){return{entityFqdn:"wix.data.v1.external_database_connection",method:"DELETE",methodFqn:"com.wixpress.cloud.data.api.externaldatabase.ExternalDatabaseConnectionService.DeleteExternalDatabaseConnection",packageName:yt,migrationOptions:{optInTransformResponse:!0},url:St({protoPath:"/v1/external-database-connections/{name}",data:t,host:e}),params:D(t)}}return a}var re=(t=>(t.NONE="NONE",t.COMMUNICATION_FAILURE="COMMUNICATION_FAILURE",t.DESTINATION_HOST_UNREACHABLE="DESTINATION_HOST_UNREACHABLE",t.UNAUTHORIZED="UNAUTHORIZED",t.DESTINATION_ENDPOINT_NOT_DEFINED="DESTINATION_ENDPOINT_NOT_DEFINED",t))(re||{}),se=(t=>(t.UNKNOWN="UNKNOWN",t.YES="YES",t.NO="NO",t))(se||{}),ie=(t=>(t.UNKNOWN_FIELD_TYPE="UNKNOWN_FIELD_TYPE",t.TEXT="TEXT",t.NUMBER="NUMBER",t.DATE="DATE",t.DATETIME="DATETIME",t.IMAGE="IMAGE",t.BOOLEAN="BOOLEAN",t.DOCUMENT="DOCUMENT",t.URL="URL",t.RICH_TEXT="RICH_TEXT",t.VIDEO="VIDEO",t.ANY="ANY",t.ARRAY_STRING="ARRAY_STRING",t.ARRAY_DOCUMENT="ARRAY_DOCUMENT",t.AUDIO="AUDIO",t.TIME="TIME",t.LANGUAGE="LANGUAGE",t.RICH_CONTENT="RICH_CONTENT",t.MEDIA_GALLERY="MEDIA_GALLERY",t.ADDRESS="ADDRESS",t.PAGE_LINK="PAGE_LINK",t.REFERENCE="REFERENCE",t.MULTI_REFERENCE="MULTI_REFERENCE",t.OBJECT="OBJECT",t.ARRAY="ARRAY",t.LEGACY_TIME="LEGACY_TIME",t.LEGACY_BOOK="LEGACY_BOOK",t.LEGACY_EXTERNAL_URL="LEGACY_EXTERNAL_URL",t.LEGACY_BROKEN_REFERENCE="LEGACY_BROKEN_REFERENCE",t.LEGACY_IMAGE="LEGACY_IMAGE",t.LEGACY_COLOR="LEGACY_COLOR",t.LEGACY_EXTERNAL_VIDEO="LEGACY_EXTERNAL_VIDEO",t))(ie||{}),oe=(t=>(t.UNKNOWN_PROTOCOL_VERSION="UNKNOWN_PROTOCOL_VERSION",t.V1="V1",t.V2="V2",t.V3="V3",t))(oe||{}),ce=(t=>(t.UNKNOWN_CONNECTION_TYPE="UNKNOWN_CONNECTION_TYPE",t.STANDALONE="STANDALONE",t.WIX_SERVICE_PLUGIN="WIX_SERVICE_PLUGIN",t))(ce||{}),de=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(de||{});async function xs(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({name:t}),r=Ds(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.externalDatabaseConnection}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{name:"$[0]"},singleArgumentUnchanged:!1},["name"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function Cs(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({paging:t==null?void 0:t.paging}),r=bs(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function ws(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({externalDatabaseConnection:t,connectionType:a}),i=Ns(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.externalDatabaseConnection}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{externalDatabaseConnection:"$[0]",connectionType:"$[1]"},singleArgumentUnchanged:!1},["externalDatabaseConnection","connectionType"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Os(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({externalDatabaseConnection:{...a,name:t}}),i=Ss(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.externalDatabaseConnection}catch(l){const u=g(l,{spreadPathsToArguments:{externalDatabaseConnection:"$[1]"},explicitPathsToArguments:{"externalDatabaseConnection.name":"$[0]"},singleArgumentUnchanged:!1},["name","externalDatabaseConnection"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Rs(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({name:t}),r=ys(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);(c=e==null?void 0:e.onSuccess)==null||c.call(e,s)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{name:"$[0]"},singleArgumentUnchanged:!1},["name"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function Es(t){return a=>xs(a,{httpClient:t})}function Ts(t){return a=>Cs(a,{httpClient:t})}function fs(t){return(a,e)=>ws(a,e,{httpClient:t})}function ks(t){return(a,e)=>Os(a,e,{httpClient:t})}function Us(t){return a=>Rs(a,{httpClient:t})}var Fs=P(Es),$s=P(Ts),Ms=P(fs),Ls=P(ks),qs=P(Us);const tm=Object.freeze(Object.defineProperty({__proto__:null,CauseOfFailure:re,CollectionsFound:se,ConnectionType:ce,FieldType:ie,ProtocolVersion:oe,WebhookIdentityType:de,createExternalDatabaseConnection:Ms,deleteExternalDatabaseConnection:qs,getExternalDatabaseConnection:Fs,listExternalDatabaseConnections:$s,updateExternalDatabaseConnection:Ls},Symbol.toStringTag,{value:"Module"}));function pt(t){return et(Object.assign(t,{domainToMappings:{"www._base_domain_":[{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"},{srcPath:"/_api/data/v2/backups",destPath:"/v2/backups"}],"manage._base_domain_":[{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"},{srcPath:"/_api/data/v2/backups",destPath:"/v2/backups"}],"editor._base_domain_":[{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"},{srcPath:"/_api/data/v2/backups",destPath:"/v2/backups"}],"blocks._base_domain_":[{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"},{srcPath:"/_api/data/v2/backups",destPath:"/v2/backups"}],"create.editorx":[{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"},{srcPath:"/_api/data/v2/backups",destPath:"/v2/backups"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/backups",destPath:"/api/v1/backups"},{srcPath:"/wix-data/v2/backups",destPath:"/v2/backups"}],"*.dev.wix-code.com":[{srcPath:"/data/v2/backups",destPath:"/v2/backups"},{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"}],_:[{srcPath:"/data/v2/backups",destPath:"/v2/backups"},{srcPath:"/_api/data/backups",destPath:"/api/v1/backups"}]}}))}var gt="@wix/auto_sdk_data_backups";function Bs(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"POST",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.CreateBackup",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"backup.requestedDate"},{path:"backup.startedDate"},{path:"backup.finishedDate"},{path:"backup.deletedDate"}]}])}}return a}function Vs(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"GET",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.ListBackups",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"backups.requestedDate"},{path:"backups.startedDate"},{path:"backups.finishedDate"},{path:"backups.deletedDate"}]}])}}return a}function Ws(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"POST",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.RestoreBackup",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups/{backupId}/restore",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"restoration.requestedDate"},{path:"restoration.startedDate"},{path:"restoration.finishedDate"},{path:"restoration.backup.requestedDate"},{path:"restoration.backup.startedDate"},{path:"restoration.backup.finishedDate"},{path:"restoration.backup.deletedDate"}]}])}}return a}function Gs(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"POST",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.RestorePartialBackup",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups/{backupId}/partial-restore",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"restoration.requestedDate"},{path:"restoration.startedDate"},{path:"restoration.finishedDate"},{path:"restoration.backup.requestedDate"},{path:"restoration.backup.startedDate"},{path:"restoration.backup.finishedDate"},{path:"restoration.backup.deletedDate"}]}])}}return a}function js(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"GET",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.ListRestorations",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups/restorations",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"restorations.requestedDate"},{path:"restorations.startedDate"},{path:"restorations.finishedDate"},{path:"restorations.backup.requestedDate"},{path:"restorations.backup.startedDate"},{path:"restorations.backup.finishedDate"},{path:"restorations.backup.deletedDate"}]}])}}return a}function Ks(t){function a({host:e}){return{entityFqdn:"wix.data.v2.backup",method:"DELETE",methodFqn:"com.wixpress.dstore.api.backup.v2.BackupService.DeleteBackup",packageName:gt,migrationOptions:{optInTransformResponse:!0},url:pt({protoPath:"/v2/backups/{backupId}",data:t,host:e}),params:D(t)}}return a}var le=(t=>(t.PENDING="PENDING",t.READY="READY",t.FAILED="FAILED",t.DELETED="DELETED",t.CANCELED="CANCELED",t))(le||{}),ue=(t=>(t.ON_DEMAND="ON_DEMAND",t.AUTO="AUTO",t))(ue||{}),he=(t=>(t.PENDING="PENDING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t))(he||{}),me=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(me||{});async function Ys(){var r,i,c;const{httpClient:t,sideEffects:a}=arguments[0],e=p({}),n=Bs(e);(r=a==null?void 0:a.onSiteCall)==null||r.call(a);try{const d=await t.request(n);return(i=a==null?void 0:a.onSuccess)==null||i.call(a,d),h(d.data)}catch(d){const s=g(d,{spreadPathsToArguments:{},explicitPathsToArguments:{},singleArgumentUnchanged:!1},[]);throw(c=a==null?void 0:a.onError)==null||c.call(a,d),s}}async function Js(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({status:t==null?void 0:t.status,type:t==null?void 0:t.type,paging:t==null?void 0:t.paging}),r=Vs(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{status:"$[0].status",type:"$[0].type",paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Hs(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({backupId:t}),r=Ws(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{backupId:"$[0]"},singleArgumentUnchanged:!1},["backupId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Xs(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({backupId:t,restorationCollections:a}),i=Gs(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{backupId:"$[0]",restorationCollections:"$[1]"},singleArgumentUnchanged:!1},["backupId","restorationCollections"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function zs(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({status:t==null?void 0:t.status,paging:t==null?void 0:t.paging}),r=js(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{status:"$[0].status",paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Qs(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({backupId:t}),r=Ks(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);(c=e==null?void 0:e.onSuccess)==null||c.call(e,s)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{backupId:"$[0]"},singleArgumentUnchanged:!1},["backupId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function Zs(t){return()=>Ys({httpClient:t})}function ti(t){return a=>Js(a,{httpClient:t})}function ai(t){return a=>Hs(a,{httpClient:t})}function ei(t){return(a,e)=>Xs(a,e,{httpClient:t})}function ni(t){return a=>zs(a,{httpClient:t})}function ri(t){return a=>Qs(a,{httpClient:t})}var si=k("wix.data.v2.backup_backup_state_changed",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"data.backup.requestedDate"},{path:"data.backup.startedDate"},{path:"data.backup.finishedDate"},{path:"data.backup.deletedDate"},{path:"metadata.eventTime"}]}])))(),ii=k("wix.data.v2.backup_restoration_state_changed",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"data.restoration.requestedDate"},{path:"data.restoration.startedDate"},{path:"data.restoration.finishedDate"},{path:"data.restoration.backup.requestedDate"},{path:"data.restoration.backup.startedDate"},{path:"data.restoration.backup.finishedDate"},{path:"data.restoration.backup.deletedDate"},{path:"metadata.eventTime"}]}])))(),oi=P(Zs),ci=P(ti),di=P(ai),li=P(ei),ui=P(ni),hi=P(ri),mi=f(si),pi=f(ii);const am=Object.freeze(Object.defineProperty({__proto__:null,RestorationStatus:he,Status:le,Type:ue,WebhookIdentityType:me,createBackup:oi,deleteBackup:hi,listBackups:ci,listRestorations:ui,onBackupRestorationStateChanged:pi,onBackupStateChanged:mi,restoreBackup:di,restorePartialBackup:li},Symbol.toStringTag,{value:"Module"}));function q(t){return et(Object.assign(t,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/cloud-data",destPath:""}],"code._base_domain_":[{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"}],"cloud-data.wix-code.com":[{srcPath:"",destPath:""}],_:[{srcPath:"/_api/cloud-data",destPath:""}],"www._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"dev._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""}],"bo._base_domain_":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wixbo.ai":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wix-bo.com":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"manage._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"create.editorx":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/collections",destPath:"/v1/wix-data/collections"},{srcPath:"/wix-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/wix-data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"},{srcPath:"/wix-data/v1/external-databases",destPath:"/v1/external-databases"},{srcPath:"/wix-data/v2",destPath:"/v2"},{srcPath:"/data/v2/collections",destPath:"/v2/collections"},{srcPath:"/data/v2/items",destPath:"/v2/items"},{srcPath:"/data/v2/bulk/items",destPath:"/v2/bulk/items"},{srcPath:"/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}],"www.wixgateway.com":[{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"}],"*.dev.wix-code.com":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}]}}))}var B="@wix/auto_sdk_data_collections";function gi(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"collection.createdDate"},{path:"collection.updatedDate"}]},{transformFn:ut,paths:[{path:"collection.fields.numberRange.min"},{path:"collection.fields.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.CreateDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"collection.createdDate"},{path:"collection.updatedDate"}]},{transformFn:W,paths:[{path:"collection.fields.numberRange.min"},{path:"collection.fields.numberRange.max"}]}])}}return a}function vi(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"GET",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.GetDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/{dataCollectionId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"collection.createdDate"},{path:"collection.updatedDate"},{path:"referencedCollections.createdDate"},{path:"referencedCollections.updatedDate"}]},{transformFn:W,paths:[{path:"collection.fields.numberRange.min"},{path:"collection.fields.numberRange.max"},{path:"referencedCollections.fields.numberRange.min"},{path:"referencedCollections.fields.numberRange.max"}]}])}}return a}function Pi(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"GET",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.ListDataCollections",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"collections.createdDate"},{path:"collections.updatedDate"}]},{transformFn:W,paths:[{path:"collections.fields.numberRange.min"},{path:"collections.fields.numberRange.max"}]}])}}return a}function _i(t){function a({host:e}){const n=m(t,[{transformFn:st,paths:[{path:"collection.createdDate"},{path:"collection.updatedDate"}]},{transformFn:ut,paths:[{path:"collection.fields.numberRange.min"},{path:"collection.fields.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"PUT",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.UpdateDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"collection.createdDate"},{path:"collection.updatedDate"}]},{transformFn:W,paths:[{path:"collection.fields.numberRange.min"},{path:"collection.fields.numberRange.max"}]}])}}return a}function Ii(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"DELETE",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.DeleteDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/{dataCollectionId}",data:t,host:e}),params:D(t)}}return a}function Ai(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.RestoreDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/restore/{dataCollectionId}",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function Di(t){function a({host:e}){const n=m(t,[{transformFn:ea,paths:[{path:"fieldMask"}]},{transformFn:st,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:ut,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"PATCH",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.PatchDataCollection",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/{dataCollection.id}",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function bi(t){function a({host:e}){const n=m(t,[{transformFn:ut,paths:[{path:"field.numberRange.min"},{path:"field.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.CreateDataCollectionField",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/create-field",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function Ni(t){function a({host:e}){const n=m(t,[{transformFn:ut,paths:[{path:"field.numberRange.min"},{path:"field.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.UpdateDataCollectionField",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/update-field",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function Si(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.DeleteDataCollectionField",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/delete-field",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function yi(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.AddDataCollectionPlugin",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/add-plugin",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function xi(t){function a({host:e}){return{entityFqdn:"wix.data.v2.data_collection",method:"POST",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.DeleteDataCollectionPlugin",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/delete-plugin",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}function Ci(t){function a({host:e}){const n=m(t,[{transformFn:ea,paths:[{path:"fieldMask"}]},{transformFn:ut,paths:[{path:"field.numberRange.min"},{path:"field.numberRange.max"}]}]);return{entityFqdn:"wix.data.v2.data_collection",method:"PATCH",methodFqn:"com.wixpress.cloud.data.api.collectionservice.DataCollectionService.PatchDataCollectionField",packageName:B,migrationOptions:{optInTransformResponse:!0},url:q({protoPath:"/v2/collections/{dataCollectionId}/patch-field",data:n,host:e}),data:n,transformResponse:i=>m(i,[{transformFn:_,paths:[{path:"dataCollection.createdDate"},{path:"dataCollection.updatedDate"}]},{transformFn:W,paths:[{path:"dataCollection.fields.numberRange.min"},{path:"dataCollection.fields.numberRange.max"}]}])}}return a}var pe=(t=>(t.NATIVE="NATIVE",t.WIX_APP="WIX_APP",t.BLOCKS_APP="BLOCKS_APP",t.EXTERNAL="EXTERNAL",t))(pe||{}),ge=(t=>(t.ASC="ASC",t.DESC="DESC",t))(ge||{}),ve=(t=>(t.AGGREGATE="AGGREGATE",t.BULK_INSERT="BULK_INSERT",t.BULK_REMOVE="BULK_REMOVE",t.BULK_SAVE="BULK_SAVE",t.BULK_UPDATE="BULK_UPDATE",t.COUNT="COUNT",t.DISTINCT="DISTINCT",t.FIND="FIND",t.GET="GET",t.INSERT="INSERT",t.INSERT_REFERENCE="INSERT_REFERENCE",t.IS_REFERENCED="IS_REFERENCED",t.QUERY_REFERENCED="QUERY_REFERENCED",t.REMOVE="REMOVE",t.REMOVE_REFERENCE="REMOVE_REFERENCE",t.REPLACE_REFERENCES="REPLACE_REFERENCES",t.SAVE="SAVE",t.TRUNCATE="TRUNCATE",t.UPDATE="UPDATE",t.PATCH="PATCH",t.BULK_PATCH="BULK_PATCH",t))(ve||{}),Pe=(t=>(t.UPDATE="UPDATE",t.REMOVE="REMOVE",t))(Pe||{}),_e=(t=>(t.UNKNOWN_FIELD_TYPE="UNKNOWN_FIELD_TYPE",t.TEXT="TEXT",t.NUMBER="NUMBER",t.DATE="DATE",t.DATETIME="DATETIME",t.IMAGE="IMAGE",t.BOOLEAN="BOOLEAN",t.DOCUMENT="DOCUMENT",t.URL="URL",t.RICH_TEXT="RICH_TEXT",t.VIDEO="VIDEO",t.ANY="ANY",t.ARRAY_STRING="ARRAY_STRING",t.ARRAY_DOCUMENT="ARRAY_DOCUMENT",t.AUDIO="AUDIO",t.TIME="TIME",t.LANGUAGE="LANGUAGE",t.RICH_CONTENT="RICH_CONTENT",t.MEDIA_GALLERY="MEDIA_GALLERY",t.ADDRESS="ADDRESS",t.PAGE_LINK="PAGE_LINK",t.REFERENCE="REFERENCE",t.MULTI_REFERENCE="MULTI_REFERENCE",t.OBJECT="OBJECT",t.ARRAY="ARRAY",t.LEGACY_TIME="LEGACY_TIME",t.LEGACY_BOOK="LEGACY_BOOK",t.LEGACY_EXTERNAL_URL="LEGACY_EXTERNAL_URL",t.LEGACY_BROKEN_REFERENCE="LEGACY_BROKEN_REFERENCE",t.LEGACY_IMAGE="LEGACY_IMAGE",t.LEGACY_COLOR="LEGACY_COLOR",t.LEGACY_EXTERNAL_VIDEO="LEGACY_EXTERNAL_VIDEO",t))(_e||{}),Ie=(t=>(t.EQ="EQ",t.LT="LT",t.GT="GT",t.NE="NE",t.LTE="LTE",t.GTE="GTE",t.STARTS_WITH="STARTS_WITH",t.ENDS_WITH="ENDS_WITH",t.CONTAINS="CONTAINS",t.HAS_SOME="HAS_SOME",t.HAS_ALL="HAS_ALL",t.EXISTS="EXISTS",t.URLIZED="URLIZED",t))(Ie||{}),Ae=(t=>(t.UNKNOWN_PAGE_LINK_TYPE="UNKNOWN_PAGE_LINK_TYPE",t.COLLECTION_DEFINED="COLLECTION_DEFINED",t.ROUTER_DEFINED="ROUTER_DEFINED",t))(Ae||{}),De=(t=>(t.UNKNOWN="UNKNOWN",t.CMS="CMS",t))(De||{}),be=(t=>(t.UNKNOWN_ROLE="UNKNOWN_ROLE",t.ADMIN="ADMIN",t.SITE_MEMBER_AUTHOR="SITE_MEMBER_AUTHOR",t.SITE_MEMBER="SITE_MEMBER",t.ANYONE="ANYONE",t))(be||{}),Ne=(t=>(t.UNKNOWN_PUBLISH_PLUGIN_STATUS="UNKNOWN_PUBLISH_PLUGIN_STATUS",t.PUBLISHED="PUBLISHED",t.DRAFT="DRAFT",t))(Ne||{}),Se=(t=>(t.UNKNOWN_URLIZED_PLUGIN_FORMAT="UNKNOWN_URLIZED_PLUGIN_FORMAT",t.ORIGINAL="ORIGINAL",t.PLAIN="PLAIN",t))(Se||{}),ye=(t=>(t.UNKNOWN_PLUGIN_TYPE="UNKNOWN_PLUGIN_TYPE",t.PUBLISH="PUBLISH",t.SINGLE_ITEM="SINGLE_ITEM",t.URLIZED="URLIZED",t.GRIDAPPLESS="GRIDAPPLESS",t.MULTILINGUAL="MULTILINGUAL",t.SHARED="SHARED",t.EDITABLE_PAGE_LINK="EDITABLE_PAGE_LINK",t.CMS="CMS",t))(ye||{}),xe=(t=>(t.OFFSET="OFFSET",t.CURSOR="CURSOR",t))(xe||{}),Ce=(t=>(t.UNDEFINED="UNDEFINED",t.ANYONE="ANYONE",t.SITE_MEMBER="SITE_MEMBER",t.SITE_MEMBER_AUTHOR="SITE_MEMBER_AUTHOR",t.CMS_EDITOR="CMS_EDITOR",t.PRIVILEGED="PRIVILEGED",t))(Ce||{}),we=(t=>(t.UNKNOWN_SEGMENT="UNKNOWN_SEGMENT",t.PUBLIC="PUBLIC",t.DEV="DEV",t))(we||{}),Oe=(t=>(t.ASC="ASC",t.DESC="DESC",t))(Oe||{}),Re=(t=>(t.META_SITE="META_SITE",t.ACCOUNT="ACCOUNT",t.APP="APP",t))(Re||{}),Ee=(t=>(t.ASC="ASC",t.DESC="DESC",t))(Ee||{}),Te=(t=>(t.UNKNOWN="UNKNOWN",t.BUILDING="BUILDING",t.ACTIVE="ACTIVE",t.DROPPING="DROPPING",t.DROPPED="DROPPED",t.FAILED="FAILED",t.INVALID="INVALID",t))(Te||{}),fe=(t=>(t.UNKNOWN_INDEX_SOURCE="UNKNOWN_INDEX_SOURCE",t.SYSTEM="SYSTEM",t.USER="USER",t.AUTO="AUTO",t))(fe||{}),ke=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(ke||{});async function wi(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({collection:t}),r=gi(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.collection}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{collection:"$[0]"},singleArgumentUnchanged:!1},["collection"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function Oi(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,consistentRead:a==null?void 0:a.consistentRead,includeAllowedDataPermissions:a==null?void 0:a.includeAllowedDataPermissions,fields:a==null?void 0:a.fields}),i=vi(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.collection}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",consistentRead:"$[1].consistentRead",includeAllowedDataPermissions:"$[1].includeAllowedDataPermissions",fields:"$[1].fields"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Ri(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({sort:t==null?void 0:t.sort,paging:t==null?void 0:t.paging,consistentRead:t==null?void 0:t.consistentRead,includeAllowedDataPermissions:t==null?void 0:t.includeAllowedDataPermissions,fields:t==null?void 0:t.fields}),r=Pi(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{sort:"$[0].sort",paging:"$[0].paging",consistentRead:"$[0].consistentRead",includeAllowedDataPermissions:"$[0].includeAllowedDataPermissions",fields:"$[0].fields"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function Ei(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({collection:t}),r=_i(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.collection}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{collection:"$[0]"},singleArgumentUnchanged:!1},["collection"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function Ti(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t}),r=Ii(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);(c=e==null?void 0:e.onSuccess)==null||c.call(e,s)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]"},singleArgumentUnchanged:!1},["dataCollectionId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function fi(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t}),r=Ai(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]"},singleArgumentUnchanged:!1},["dataCollectionId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function ki(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollection:{...a,id:t}}),i=Di(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{dataCollection:"$[1]"},explicitPathsToArguments:{"dataCollection.id":"$[0]"},singleArgumentUnchanged:!1},["_id","dataCollection"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Ui(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,field:a==null?void 0:a.field}),i=bi(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",field:"$[1].field"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Fi(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,field:a==null?void 0:a.field}),i=Ni(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",field:"$[1].field"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function $i(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,fieldKey:a==null?void 0:a.fieldKey}),i=Si(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",fieldKey:"$[1].fieldKey"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Mi(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,plugin:a==null?void 0:a.plugin}),i=yi(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",plugin:"$[1].plugin"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Li(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,pluginType:a==null?void 0:a.pluginType}),i=xi(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",pluginType:"$[1].pluginType"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function qi(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,field:a}),i=Ci(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",field:"$[1]"},singleArgumentUnchanged:!1},["dataCollectionId","field"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}function Bi(t){return a=>wi(a,{httpClient:t})}function Vi(t){return(a,e)=>Oi(a,e,{httpClient:t})}function Wi(t){return a=>Ri(a,{httpClient:t})}function Gi(t){return a=>Ei(a,{httpClient:t})}function ji(t){return a=>Ti(a,{httpClient:t})}function Ki(t){return a=>fi(a,{httpClient:t})}function Yi(t){return(a,e)=>ki(a,e,{httpClient:t})}function Ji(t){return(a,e)=>Ui(a,e,{httpClient:t})}function Hi(t){return(a,e)=>Fi(a,e,{httpClient:t})}function Xi(t){return(a,e)=>$i(a,e,{httpClient:t})}function zi(t){return(a,e)=>Mi(a,e,{httpClient:t})}function Qi(t){return(a,e)=>Li(a,e,{httpClient:t})}function Zi(t){return(a,e)=>qi(a,e,{httpClient:t})}var to=P(Bi),ao=P(Vi),eo=P(Wi),no=P(Gi),ro=P(ji),so=P(Ki),io=P(Yi),oo=P(Ji),co=P(Hi),lo=P(Xi),uo=P(zi),ho=P(Qi),mo=P(Zi);const em=Object.freeze(Object.defineProperty({__proto__:null,AccessLevel:Ce,CollectionOperation:Pe,CollectionType:pe,DataOperation:ve,Direction:ge,FieldPluginType:De,Format:Se,IndexSource:fe,IndexStatus:Te,Order:Ee,PageLinkType:Ae,PagingMode:xe,PluginType:ye,QueryOperator:Ie,Role:be,Segment:we,SortOrder:Oe,Status:Ne,TenantMode:Re,Type:_e,WebhookIdentityType:ke,addDataCollectionPlugin:uo,createDataCollection:to,createDataCollectionField:oo,deleteDataCollection:ro,deleteDataCollectionField:lo,deleteDataCollectionPlugin:ho,getDataCollection:ao,listDataCollections:eo,patchDataCollection:io,patchDataCollectionField:mo,restoreDataCollection:so,updateDataCollection:no,updateDataCollectionField:co},Symbol.toStringTag,{value:"Module"}));function Wt(t){return et(Object.assign(t,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/cloud-data",destPath:""}],"code._base_domain_":[{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/v1/connector",destPath:"/v1/connector"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"}],"cloud-data.wix-code.com":[{srcPath:"",destPath:""}],_:[{srcPath:"/_api/cloud-data",destPath:""}],"www._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"dev._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""}],"bo._base_domain_":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wixbo.ai":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wix-bo.com":[{srcPath:"/_api/cloud-data/v1",destPath:"/v1"},{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"manage._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""},{srcPath:"/_api/cloud-data",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"create.editorx":[{srcPath:"/_api/cloud-data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/cloud-data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/data/v1/schemas",destPath:"/v1/schemas"},{srcPath:"/_api/data/dbs/tasks",destPath:"/dbs/tasks"},{srcPath:"/_api/cloud-data/v1/wix-data",destPath:"/v1/wix-data"},{srcPath:"/_api/cloud-data/v1/data-settings",destPath:"/v1/data-settings"},{srcPath:"/_api/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/_api/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"},{srcPath:"/_api/cloud-data/v2/collections",destPath:"/v2/collections"},{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"},{srcPath:"/_api/cloud-data/v2/items",destPath:"/v2/items"},{srcPath:"/_api/cloud-data/v2/dbs/tasks",destPath:"/v2/dbs/tasks"}],"www.wixapis.com":[{srcPath:"/wix-data/v1/collections",destPath:"/v1/wix-data/collections"},{srcPath:"/wix-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/wix-data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"},{srcPath:"/wix-data/v1/external-databases",destPath:"/v1/external-databases"},{srcPath:"/wix-data/v2",destPath:"/v2"},{srcPath:"/data/v2/collections",destPath:"/v2/collections"},{srcPath:"/data/v2/items",destPath:"/v2/items"},{srcPath:"/data/v2/bulk/items",destPath:"/v2/bulk/items"},{srcPath:"/data/v2/indexes",destPath:"/v2/indexes"},{srcPath:"/data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}],"www.wixgateway.com":[{srcPath:"/wix-data/v1/items",destPath:"/v1/items"},{srcPath:"/wix-data/v1/bulk",destPath:"/v1/bulk"}],"*.dev.wix-code.com":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"},{srcPath:"/_api/cloud-data/v1/external-database-connections",destPath:"/v1/external-database-connections"},{srcPath:"/data/v1/data-collection-sharing",destPath:"/v1/data-collection-sharing"}]}}))}var Gt="@wix/auto_sdk_data_indexes";function po(t){function a({host:e}){return{entityFqdn:"wix.data.v2.index",method:"POST",methodFqn:"com.wixpress.cloud.data.api.index.IndexService.CreateIndex",packageName:Gt,migrationOptions:{optInTransformResponse:!0},url:Wt({protoPath:"/v2/indexes",data:t,host:e}),data:t}}return a}function go(t){function a({host:e}){return{entityFqdn:"wix.data.v2.index",method:"DELETE",methodFqn:"com.wixpress.cloud.data.api.index.IndexService.DropIndex",packageName:Gt,migrationOptions:{optInTransformResponse:!0},url:Wt({protoPath:"/v2/indexes",data:t,host:e}),params:D(t)}}return a}function vo(t){function a({host:e}){return{entityFqdn:"wix.data.v2.index",method:"GET",methodFqn:"com.wixpress.cloud.data.api.index.IndexService.ListIndexes",packageName:Gt,migrationOptions:{optInTransformResponse:!0},url:Wt({protoPath:"/v2/indexes",data:t,host:e}),params:D(t)}}return a}function Po(t){function a({host:e}){return{entityFqdn:"wix.data.v2.index",method:"GET",methodFqn:"com.wixpress.cloud.data.api.index.IndexService.ListAvailableIndexes",packageName:Gt,migrationOptions:{optInTransformResponse:!0},url:Wt({protoPath:"/v2/indexes/available",data:t,host:e}),params:D(t)}}return a}var Ue=(t=>(t.ASC="ASC",t.DESC="DESC",t))(Ue||{}),Fe=(t=>(t.UNKNOWN="UNKNOWN",t.BUILDING="BUILDING",t.ACTIVE="ACTIVE",t.DROPPING="DROPPING",t.DROPPED="DROPPED",t.FAILED="FAILED",t.INVALID="INVALID",t))(Fe||{}),$e=(t=>(t.UNKNOWN_INDEX_SOURCE="UNKNOWN_INDEX_SOURCE",t.SYSTEM="SYSTEM",t.USER="USER",t.AUTO="AUTO",t))($e||{}),Me=(t=>(t.UNKNOWN_ENVIRONMENT="UNKNOWN_ENVIRONMENT",t.SANDBOX="SANDBOX",t.SANDBOX_PREFERRED="SANDBOX_PREFERRED",t.LIVE="LIVE",t))(Me||{}),Le=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(Le||{});async function _o(t,a){var c,d,s,o;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,index:a}),i=po(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const l=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,l),(s=h(l.data))==null?void 0:s.index}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",index:"$[1]"},singleArgumentUnchanged:!1},["dataCollectionId","index"]);throw(o=n==null?void 0:n.onError)==null||o.call(n,l),u}}async function Io(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,indexName:a}),i=go(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);(d=n==null?void 0:n.onSuccess)==null||d.call(n,o)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",indexName:"$[1]"},singleArgumentUnchanged:!1},["dataCollectionId","indexName"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Ao(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({dataCollectionId:t,paging:a==null?void 0:a.paging}),i=vo(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]",paging:"$[1].paging"},singleArgumentUnchanged:!1},["dataCollectionId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}async function Do(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({dataCollectionId:t}),r=Po(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{dataCollectionId:"$[0]"},singleArgumentUnchanged:!1},["dataCollectionId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function bo(t){return(a,e)=>_o(a,e,{httpClient:t})}function No(t){return(a,e)=>Io(a,e,{httpClient:t})}function So(t){return(a,e)=>Ao(a,e,{httpClient:t})}function yo(t){return a=>Do(a,{httpClient:t})}var xo=k("wix.data.v2.index_created",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"metadata.eventTime"}]}])))(),Co=k("wix.data.v2.index_deleted",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"metadata.eventTime"}]}])))(),wo=k("wix.data.v2.index_updated",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"metadata.eventTime"}]}])))(),Oo=P(bo),Ro=P(No),Eo=P(So),To=P(yo),fo=f(xo),ko=f(Co),Uo=f(wo);const nm=Object.freeze(Object.defineProperty({__proto__:null,Environment:Me,IndexSource:$e,Order:Ue,Status:Fe,WebhookIdentityType:Le,createIndex:Oo,dropIndex:Ro,listAvailableIndexes:To,listIndexes:Eo,onIndexCreated:fo,onIndexDeleted:ko,onIndexUpdated:Uo},Symbol.toStringTag,{value:"Module"}));function Da(t){return Object.keys(t).length===1&&"$and"in t&&Array.isArray(t.$and)}function ba(t){return Object.keys(t).length===1&&"$or"in t&&Array.isArray(t.$or)}function Fo(t){return Object.keys(t).length===1&&"$not"in t&&typeof t.$not=="object"}function $(t,a){return typeof t>"u"||Object.keys(t).length===0?a:typeof a>"u"||Object.keys(a).length===0?t:{$and:[...Da(t)?t.$and:[t],...Da(a)?a.$and:[a]]}}function $o(t,a){return typeof t>"u"||Object.keys(t).length===0?a:typeof a>"u"||Object.keys(a).length===0?t:{$or:[...ba(t)?t.$or:[t],...ba(a)?a.$or:[a]]}}function Mo(t){if(!(typeof t>"u"||Object.keys(t).length===0))return Fo(t)?t.$not:{$not:t}}class qe{constructor({items:a,originQuery:e,fetchNextPage:n,fetchPrevPage:r,limit:i}){V(this,"_items");V(this,"_fetchNextPage");V(this,"_fetchPrevPage");V(this,"_originQuery");V(this,"_limit");this._items=a,this._fetchNextPage=n,this._fetchPrevPage=r,this._originQuery=e,this._limit=i}get items(){return this._items}get length(){return this._items.length}get pageSize(){return this._limit}get query(){return this._originQuery}async next(){if(!this.hasNext())throw new Error("No next page to fetch");return await this._fetchNextPage()}async prev(){if(!this.hasPrev())throw new Error("No previous page to fetch");return await this._fetchPrevPage()}}class Lo extends qe{constructor({items:e,originQuery:n,fetchNextPage:r,fetchPrevPage:i,limit:c,nextCursor:d,prevCursor:s}){super({items:e,originQuery:n,fetchNextPage:r,fetchPrevPage:i,limit:c});V(this,"_nextCursor");V(this,"_prevCursor");V(this,"cursors");this._nextCursor=d,this._prevCursor=s,this.cursors={next:d,prev:s}}hasNext(){return!!this._nextCursor}hasPrev(){return!!this._prevCursor}}class qo extends qe{constructor({items:e,fetchNextPage:n,fetchPrevPage:r,offset:i,originQuery:c,limit:d,totalCount:s,tooManyToCount:o}){super({items:e,fetchNextPage:n,fetchPrevPage:r,originQuery:c,limit:d});V(this,"_totalCount");V(this,"_offset");V(this,"_tooManyToCount");this._totalCount=s,this._offset=i,this._tooManyToCount=o}get currentPage(){return this._limit===0?void 0:Math.floor(this._offset/this._limit)}get totalPages(){return this._tooManyToCount||this._limit===0?void 0:Math.ceil(this._totalCount/this._limit)}get totalCount(){return this._tooManyToCount?void 0:this._totalCount}hasNext(){return this._limit!==0&&this.currentPage!==void 0&&this.totalPages!==void 0&&this.currentPage<this.totalPages-1}hasPrev(){return!!(this._limit!==0&&this.currentPage&&this.currentPage>0)}}function Bo(t){const a=e=>({query:e,async find(){var n,r;try{const i=t.requestTransformer(t.pagingMethod==="CURSOR"&&e.cursorPaging.cursor?{cursorPaging:e.cursorPaging}:e),c=await t.func(i),{[_n]:d,[In]:s}=t.responseTransformer(c);if(t.pagingMethod==="OFFSET"){const l=e;return new qo({items:d??[],fetchNextPage:()=>a({...l,paging:{offset:l.paging.offset+l.paging.limit,limit:l.paging.limit}}).find(),fetchPrevPage:()=>a({...e,paging:{offset:Math.max(l.paging.offset-l.paging.limit,0),limit:l.paging.limit}}).find(),offset:l.paging.offset,limit:l.paging.limit,totalCount:s==null?void 0:s.total,tooManyToCount:s==null?void 0:s.tooManyToCount,originQuery:this})}const o=e.cursorPaging;return new Lo({items:d??[],limit:o.limit,originQuery:this,fetchNextPage:()=>{var l;return a({...e,cursorPaging:{cursor:((l=s==null?void 0:s.cursors)==null?void 0:l.next)??void 0,limit:o.limit}}).find()},fetchPrevPage:()=>{var l;return a({...e,cursorPaging:{cursor:((l=s==null?void 0:s.cursors)==null?void 0:l.prev)??void 0,limit:o.limit}}).find()},prevCursor:((n=s==null?void 0:s.cursors)==null?void 0:n.prev)??void 0,nextCursor:((r=s==null?void 0:s.cursors)==null?void 0:r.next)??void 0})}catch(i){throw t.errorTransformer(i)}},skipTo(n){return a({...e,cursorPaging:{cursor:n,limit:e.cursorPaging.limit}})},eq(n,r){const i=typeof r>"u"?null:r,c={[U(t.transformationPaths,n)]:i};return a({...e,filter:$(e.filter,c)})},ne(n,r){const i=typeof r>"u"?null:r,c={[U(t.transformationPaths,n)]:{$ne:i}};return a({...e,filter:$(e.filter,c)})},ge(n,r){const i={[U(t.transformationPaths,n)]:{$gte:r}};return a({...e,filter:$(e.filter,i)})},gt(n,r){const i={[U(t.transformationPaths,n)]:{$gt:r}};return a({...e,filter:$(e.filter,i)})},le(n,r){const i={[U(t.transformationPaths,n)]:{$lte:r}};return a({...e,filter:$(e.filter,i)})},lt(n,r){const i={[U(t.transformationPaths,n)]:{$lt:r}};return a({...e,filter:$(e.filter,i)})},isNotEmpty(n){return this.ne(n,null)},isEmpty(n){return this.eq(n,null)},startsWith(n,r){const i={[U(t.transformationPaths,n)]:{$startsWith:r}};return a({...e,filter:$(e.filter,i)})},endsWith(n,r){const i={[U(t.transformationPaths,n)]:{$endsWith:r}};return a({...e,filter:$(e.filter,i)})},contains(n,r){const i={[U(t.transformationPaths,n)]:{$contains:r}};return a({...e,filter:$(e.filter,i)})},hasSome(n,...r){const i={[U(t.transformationPaths,n)]:{$hasSome:Array.isArray(r[0])?r[0]:r}};return a({...e,filter:$(e.filter,i)})},hasAll(n,...r){const i={[U(t.transformationPaths,n)]:{$hasAll:Array.isArray(r[0])?r[0]:r}};return a({...e,filter:$(e.filter,i)})},between(n,r,i){return this.ge(n,r).lt(n,i)},in(n,r){const i={[U(t.transformationPaths,n)]:{$in:r}};return a({...e,filter:$(e.filter,i)})},exists(n,r=!0){const i={[U(t.transformationPaths,n)]:{$exists:r}};return a({...e,filter:$(e.filter,i)})},or(n){return a({...e,filter:$o(e.filter,n.query.filter)})},and(n){return a({...e,filter:$(e.filter,n.query.filter)})},not(n){return a({...e,filter:Mo(n.query.filter)})},ascending(...n){return a({...e,sort:[...e.sort??[],...n.map(r=>({fieldName:U(t.transformationPaths,r),order:"ASC"}))]})},descending(...n){return a({...e,sort:[...e.sort??[],...n.map(r=>({fieldName:U(t.transformationPaths,r),order:"DESC"}))]})},skip(n){return a({...e,paging:{offset:n,limit:"limit"in e.paging?e.paging.limit:Yt}})},limit(n){if(t.pagingMethod==="CURSOR"){const i=e;return a({...e,cursorPaging:{limit:n,cursor:"cursor"in i.cursorPaging?i.cursorPaging.cursor:void 0}})}const r=e;return a({...e,paging:{limit:n,offset:"offset"in r.paging?r.paging.offset:0}})}});return a({filter:{},...t.pagingMethod==="OFFSET"?{paging:{offset:0,limit:Yt}}:{cursorPaging:{limit:Yt}}})}function U(t,a){var n;const e=(n=Object.entries(t).find(([r])=>r===a||a.startsWith(`${r}.`)))==null?void 0:n[0];return e?a.replace(e,t[e]):a.split(".").map(r=>t[r]??An[r]??r).join(".")}const Be="filter",Ve="sort",Vo="cursorPaging",Wo="paging",Go=[Be,Ve,Vo],jo=[Be,Ve,Wo];function We(t,a){if(!t||typeof t!="object")return!1;const e=a.some(r=>t.hasOwnProperty(r)),n=Object.keys(t).length===0;return e||n}function Ko(t){return We(t,Go)}function Yo(t){return We(t,jo)}function Jo(t){const{hasOptionsParameter:a}=t;return function(...n){return a?Xo(n,t):Ho(n,t)}}function Ho(t,a){return t.length===0?a.builderQueryFunction():a.typedQueryFunction(t[0])}function Xo(t,a){switch(t.length){case 0:return a.builderQueryFunction();case 1:return Ko(t[0])||Yo(t[0])?a.typedQueryFunction(t[0]):a.builderQueryFunction(t[0]);default:return a.typedQueryFunction(t[0],t[1])}}function at(t){return et(Object.assign(t,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}],"create.editorx":[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}],"www.wixapis.com":[{srcPath:"/data-mover",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}],_:[{srcPath:"/_api/wix-data-hub-fs2",destPath:""}]}}))}var dt="@wix/auto_sdk_data_movement-jobs";function zo(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"POST",methodFqn:"wix.hub.v1.DataMovementService.SubmitJob",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"job.startedAt"},{path:"job.finishedAt"}]}])}}return a}function Qo(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"POST",methodFqn:"wix.hub.v1.DataMovementService.CreateFileUploadUrl",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/temporary-files/upload-url",data:t,host:e}),data:t}}return a}function Zo(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"GET",methodFqn:"wix.hub.v1.DataMovementService.GetJob",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs/{jobId}",data:t,host:e}),params:D(t),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"job.startedAt"},{path:"job.finishedAt"}]}])}}return a}function tc(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"GET",methodFqn:"wix.hub.v1.DataMovementService.ListJobs",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs",data:t,host:e}),params:D(t,!0),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"jobs.startedAt"},{path:"jobs.finishedAt"}]}]),fallback:[{method:"POST",url:at({protoPath:"/v1/jobs/list",data:t,host:e}),data:t}]}}return a}function Ge(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"GET",methodFqn:"wix.hub.v1.DataMovementService.QueryJobs",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs/query",data:t,host:e}),params:D(t,!0),transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"jobs.startedAt"},{path:"jobs.finishedAt"}]}]),fallback:[{method:"POST",url:at({protoPath:"/v1/jobs/query",data:t,host:e}),data:t}]}}return a}function ac(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"POST",methodFqn:"wix.hub.v1.DataMovementService.TerminateJob",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs/{jobId}/terminate",data:t,host:e}),data:t,transformResponse:r=>m(r,[{transformFn:_,paths:[{path:"job.startedAt"},{path:"job.finishedAt"}]}])}}return a}function ec(t){function a({host:e}){return{entityFqdn:"wix.hub.v1.job",method:"GET",methodFqn:"wix.hub.v1.DataMovementService.ListMovementLogs",packageName:dt,migrationOptions:{optInTransformResponse:!0},url:at({protoPath:"/v1/jobs/{jobId}/logs",data:t,host:e}),params:D(t)}}return a}var je=(t=>(t.UNINITIALIZED="UNINITIALIZED",t.INITIALIZING="INITIALIZING",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t.PARTIALLY_SUCCESSFUL="PARTIALLY_SUCCESSFUL",t))(je||{}),Ke=(t=>(t.LIVE="LIVE",t.SANDBOX="SANDBOX",t))(Ke||{}),Ye=(t=>(t.UNKNOWN="UNKNOWN",t.CSV="CSV",t.JSONL="JSONL",t))(Ye||{}),Je=(t=>(t.OVERWRITE="OVERWRITE",t.SKIP_EXISTING="SKIP_EXISTING",t.TRUNCATE_BEFORE="TRUNCATE_BEFORE",t))(Je||{}),He=(t=>(t.ANY="ANY",t.STRING="STRING",t.NUMBER="NUMBER",t.BOOLEAN="BOOLEAN",t.DATE="DATE",t.DATETIME="DATETIME",t.BINARY="BINARY",t.OBJECT="OBJECT",t.ARRAY="ARRAY",t.URL="URL",t.WIX_MEDIA_URL="WIX_MEDIA_URL",t.WIX_MEDIA_IMAGE_URL="WIX_MEDIA_IMAGE_URL",t.WIX_MEDIA_VIDEO_URL="WIX_MEDIA_VIDEO_URL",t.WIX_MEDIA_DOCUMENT_URL="WIX_MEDIA_DOCUMENT_URL",t.IMAGE_URL="IMAGE_URL",t.VIDEO_URL="VIDEO_URL",t))(He||{}),Xe=(t=>(t.UNKNOWN_UNITS="UNKNOWN_UNITS",t.BYTES="BYTES",t.ITEMS="ITEMS",t))(Xe||{}),ze=(t=>(t.ASC="ASC",t.DESC="DESC",t))(ze||{}),Qe=(t=>(t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP",t))(Qe||{});async function nc(t,a,e){var d,s,o;const{httpClient:n,sideEffects:r}=arguments[3],i=p({source:t,destination:a,name:e==null?void 0:e.name,sourceSiteId:e==null?void 0:e.sourceSiteId,destinationSiteId:e==null?void 0:e.destinationSiteId}),c=zo(i);(d=r==null?void 0:r.onSiteCall)==null||d.call(r);try{const l=await n.request(c);return(s=r==null?void 0:r.onSuccess)==null||s.call(r,l),h(l.data)}catch(l){const u=g(l,{spreadPathsToArguments:{},explicitPathsToArguments:{source:"$[0]",destination:"$[1]",name:"$[2].name",sourceSiteId:"$[2].sourceSiteId",destinationSiteId:"$[2].destinationSiteId"},singleArgumentUnchanged:!1},["source","destination","options"]);throw(o=r==null?void 0:r.onError)==null||o.call(r,l),u}}async function rc(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({fileName:t==null?void 0:t.fileName}),r=Qo(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{fileName:"$[0].fileName"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function sc(t){var i,c,d,s;const{httpClient:a,sideEffects:e}=arguments[1],n=p({jobId:t}),r=Zo(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const o=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,o),(d=h(o.data))==null?void 0:d.job}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{jobId:"$[0]"},singleArgumentUnchanged:!1},["jobId"]);throw(s=e==null?void 0:e.onError)==null||s.call(e,o),l}}async function ic(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({paging:t==null?void 0:t.paging}),r=tc(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{paging:"$[0].paging"},singleArgumentUnchanged:!1},["options"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}function oc(){const{httpClient:t,sideEffects:a}=arguments[0];return Bo({func:async e=>{var r,i,c;const n=Ge(e);(r=a==null?void 0:a.onSiteCall)==null||r.call(a);try{const d=await t.request(n);return(i=a==null?void 0:a.onSuccess)==null||i.call(a,d),d}catch(d){throw(c=a==null?void 0:a.onError)==null||c.call(a,d),d}},requestTransformer:e=>{const n=[e,{}];return p({...n==null?void 0:n[1],query:n==null?void 0:n[0]})},responseTransformer:({data:e})=>{const n=h(m(e,[]));return{items:n==null?void 0:n.jobs,pagingMetadata:n==null?void 0:n.pagingMetadata}},errorTransformer:e=>{throw g(e,{spreadPathsToArguments:{},explicitPathsToArguments:{query:"$[0]"},singleArgumentUnchanged:!1})},pagingMethod:"CURSOR",transformationPaths:{}})}async function cc(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({query:t}),r=Ge(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{query:"$[0]"},singleArgumentUnchanged:!1},["query"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function dc(t){var i,c,d;const{httpClient:a,sideEffects:e}=arguments[1],n=p({jobId:t}),r=ac(n);(i=e==null?void 0:e.onSiteCall)==null||i.call(e);try{const s=await a.request(r);return(c=e==null?void 0:e.onSuccess)==null||c.call(e,s),h(s.data)}catch(s){const o=g(s,{spreadPathsToArguments:{},explicitPathsToArguments:{jobId:"$[0]"},singleArgumentUnchanged:!1},["jobId"]);throw(d=e==null?void 0:e.onError)==null||d.call(e,s),o}}async function lc(t,a){var c,d,s;const{httpClient:e,sideEffects:n}=arguments[2],r=p({jobId:t,paging:a==null?void 0:a.paging}),i=ec(r);(c=n==null?void 0:n.onSiteCall)==null||c.call(n);try{const o=await e.request(i);return(d=n==null?void 0:n.onSuccess)==null||d.call(n,o),h(o.data)}catch(o){const l=g(o,{spreadPathsToArguments:{},explicitPathsToArguments:{jobId:"$[0]",paging:"$[1].paging"},singleArgumentUnchanged:!1},["jobId","options"]);throw(s=n==null?void 0:n.onError)==null||s.call(n,o),l}}function uc(t){return(a,e,n)=>nc(a,e,n,{httpClient:t})}function hc(t){return a=>rc(a,{httpClient:t})}function mc(t){return a=>sc(a,{httpClient:t})}function pc(t){return a=>ic(a,{httpClient:t})}function gc(t){return()=>oc({httpClient:t})}function vc(t){return a=>cc(a,{httpClient:t})}function Pc(t){return a=>dc(a,{httpClient:t})}function _c(t){return(a,e)=>lc(a,e,{httpClient:t})}var Ic=k("wix.hub.v1.job_created",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.startedAt"},{path:"entity.finishedAt"},{path:"metadata.eventTime"}]}])))(),Ac=k("wix.hub.v1.job_deleted",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"undefined.startedAt"},{path:"undefined.finishedAt"},{path:"metadata.eventTime"}]}])))(),Dc=k("wix.hub.v1.job_updated",!0,t=>h(m(t,[{transformFn:_,paths:[{path:"entity.startedAt"},{path:"entity.finishedAt"},{path:"metadata.eventTime"}]}])))();function bc(t){const a=Jo({builderQueryFunction:()=>gc(t)(),typedQueryFunction:n=>vc(t)(n),hasOptionsParameter:!1});function e(n){return a(...arguments)}return e}var Nc=P(uc),Sc=P(hc),yc=P(mc),xc=P(pc),Cc=P(Pc),wc=P(_c),Oc=P(bc),Rc=f(Ic),Ec=f(Ac),Tc=f(Dc);const rm=Object.freeze(Object.defineProperty({__proto__:null,FieldType:He,FileFormat:Ye,JobStatus:je,SortOrder:ze,Units:Xe,WebhookIdentityType:Qe,WixDataEnvironment:Ke,WritePolicy:Je,createFileUploadUrl:Sc,getJob:yc,listJobs:xc,listMovementLogs:wc,onJobCreated:Rc,onJobDeleted:Ec,onJobUpdated:Tc,queryJobs:Oc,submitJob:Nc,terminateJob:Cc},Symbol.toStringTag,{value:"Module"}));function na(t,a=!1,e=n=>n){return()=>({__type:"event-definition",type:t,isDomainEvent:a,transformations:e})}function fc(t){return Ze(t)}function N(t){return tn(t)}function Ze(t){if(typeof t!="object"||Xt(t))return t;const a=an(t);for(const e in a){const n=a[e];n&&Xt(n)?a[e]=Uc(n):typeof a[e]=="object"&&a[e]!==null&&(a[e]=Ze(a[e]))}return a}function Xt(t){return Object.prototype.toString.call(t)!=="[object Date]"?!1:!isNaN(t.getTime())}function kc(t){return isNaN(t)&&!isNaN(new Date(t).getDate())}function tn(t){if(typeof t!="object"||Xt(t))return t;const a=an(t);for(const e in a)a[e]&&a[e].$date&&kc(a[e].$date)?a[e]=new Date(a[e].$date):typeof a[e]=="object"&&a[e]!==null&&(a[e]=tn(a[e]));return a}function Uc(t){return{$date:t.toJSON()}}function an(t){return Array.isArray(t)?[...t]:{...t}}function F(t){return Object.prototype.toString.call(t)==="[object Object]"}function T(t){return Object.prototype.toString.call(t)==="[object Array]"}function xt(t){return Object.prototype.toString.call(t)==="[object Date]"}function vt(t){return typeof t=="number"}function ra(t){return typeof t=="boolean"}function w(t){return typeof t=="string"}function Fc(t){return t===void 0}function $c(t){return t===null}function K(t){if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String";if(T(t))return"Array";if(xt(t))return"Date";if(F(t))return"Object";if(Fc(t))return"Undefined";if($c(t))return"Null";const a=Object.prototype.toString.call(t).slice(8,-1).replace(/\s/g,"");return Mc(a)}function Mc(t){if(!w(t))return t;const a=t.slice(0,1).toUpperCase(),e=t.slice(1,t.length);return a+e}function sa(t){if(t==null||typeof t!="object")return t;let a=null;if(xt(t))a=new Date(t.getTime());else{a=t.constructor();for(const e in t)a[e]=sa(t[e])}return a}function Ut(t,a){return t?Array.isArray(t)?t.some(e=>Ut(e,a)):typeof t=="object"?Object.keys(t).some(n=>a(n)||Ut(t[n],a)):!1:!1}function Lc(t){return typeof t!="string"&&(t=JSON.stringify(t)),qc(t).replace(/[+/]/g,a=>Vc[a]).replace(/={1,3}$/,"")}function qc(t){return Bc()?btoa(t):btoa(Wc(t))}function Bc(){try{return btoa("")==="8J+mhA=="}catch{return!1}}const Vc={"+":"-","/":"_"};function Wc(t){if(typeof TextEncoder=="function"){const a=new TextEncoder().encode(t);return Array.from(a,e=>String.fromCodePoint(e)).join("")}return t.replace(Gc,jc)}const Gc=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Q=t=>String.fromCharCode(t);function jc(t){if(t.length<2){const e=t.charCodeAt(0);return e<128?t:e<2048?Q(192|e>>>6)+Q(128|e&63):Q(224|e>>>12&15)+Q(128|e>>>6&63)+Q(128|e&63)}const a=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Q(240|a>>>18&7)+Q(128|a>>>12&63)+Q(128|a>>>6&63)+Q(128|a&63)}const Kc=Object.prototype.hasOwnProperty;function en(t){return"[Throws: "+(t?t.message:"?")+"]"}function Yc(t,a){if(Kc.call(t,a))try{return t[a]}catch(e){return en(e)}return t[a]}function Jc(t){const a=[];function e(n){if(n===null||typeof n!="object")return n;if(a.indexOf(n)!==-1)return"[Circular]";if(a.push(n),typeof n.toJSON=="function")try{const i=e(n.toJSON());return a.pop(),i}catch(i){return en(i)}if(Array.isArray(n)){const i=n.map(e);return a.pop(),i}const r=Object.keys(n).reduce(function(i,c){return i[c]=e(Yc(n,c)),i},{});return a.pop(),r}return e(t)}function Hc(t,a,e){return JSON.stringify(Jc(t),a,e)}const v={collectionNameMustBeAString:()=>"WDE0001: Collection name must be a string.",itemIdMustBeAString:()=>"WDE0002: ItemId must be a string.",itemIdsMustBeArrayOfStrings:()=>"WDE0068: Item ids must be an array of strings",removeItemsMustBeLessThanThousand:t=>`WDE0069: Failed to remove items from [${t}].
Cannot remove more than 1000 items in one request`,fieldNameMustBeAString:()=>"WDE0003: FieldName must be a string.",itemMustBeAnObject:(t,a)=>`WDE0004: Failed to save [${t}] into [${a}].
Items must be JavaScript objects.`,itemsMustBeArrayOfObjects:t=>`WDE0005: Failed to bulk save items into [${t}].
Items must be an array of JavaScript objects and itemIds must be strings if present.`,itemsMustBeLessThanThousand:t=>`WDE0006: Failed to bulk save items into [${t}].
Cannot insert more than 1000 items in one request`,updateItemInvalid:()=>"WDE0007: Invalid update. Updated object must have a string _id property.",invalidArgumentLength:(t,a,e,n)=>`WDE0008: wixData.${t} expects between ${a} and ${e} arguments, but was called with ${n}.`,aggregateValidations:{aggregateInvalid:(t,a)=>`Failed to perform aggregation on [${t}].
${a.join(`
`)}`,filterMustBeBuilder:t=>`WDE0011: Invalid ${t} usage. ${t} requires WixDataFilter.`,filterIsAlreadySet:t=>`WDE0012: Invalid ${t} usage. Filter is already set.`,groupIsAlreadySet:t=>`WDE0013: Invalid ${t} usage. Group is already set.`},filterBuilderInvalid:t=>`Failed to build a filter.
${t.join(`
`)}.`,groupBuilderInvalid:t=>`Failed to build group.
${t.join(`
`)}.`,filterMustBeAnObject:()=>"WDE0016: Filter must be an object.",sortBuilderInvalid:t=>`Failed to build a sort.
${t.join(`
`)}.`,optionsInvalid:t=>`WDE0018: Options must be an object with one or all of the following boolean properties: ${t.join(", ")}.`,referenceOperationParameterError:()=>"WDE0019: Reference operation takes a string ID or an object with an ID to be connected.",referenceOperationFieldError:t=>`WDE0020: Provided property [${t}] is not a multi-reference field.`,invalidReferenceError:()=>"WDE0021: Invalid reference",queryValidations:{queryInvalid:(t,a)=>`Failed to perform query on [${t}].
${a.join(`
`)}`,isNumber:(t,a,e)=>`WDE0032: Invalid ${t} parameter [${K(e)}]. ${t} parameter must be a ${a} number.`,isPositiveNumber:(t,a)=>`WDE0033: Invalid ${t} parameter [${a}]. ${t} parameter must be a positive number.`,isNonNegativeNumber:(t,a)=>`WDE0034: Invalid ${t} parameter [${a}]. ${t} parameter must be a non-negative number.`,isInteger:(t,a)=>`WDE0035: Invalid ${t} parameter [${a}]. ${t} parameter must be an integer.`,isNonEmptyString:t=>`WDE0094: Invalid ${t} parameter. ${t} parameter must be non-empty string.`,notGreaterThan:(t,a,e)=>`WDE0036: Invalid ${t} parameter [${a}]. ${t} parameter cannot exceed ${e}.`,invalidSkipParameter:(t,a)=>`WDE0037: Invalid query on [${t}].
Invalid prev positioned query skip on a negative number ${a}.`,noPrevPage:t=>`WDE0159: Invalid query on [${t}].
There is no prev page.`,noNextPage:t=>`WDE0165: Invalid query on [${t}].
There is no next page.`},arityValidations:{arityIsZero:t=>`WDE0038: Invalid ${t} usage. ${t} does not take parameters.`,arityIsOne:t=>`WDE0039: Invalid ${t} usage. ${t} requires one parameter.`,arityIsTwo:t=>`WDE0040: Invalid ${t} usage. ${t} requires two parameters.`,arityIsThree:t=>`WDE0041: Invalid ${t} usage. ${t} requires three parameters.`,arityIsAtLeastTwo:t=>`WDE0042: Invalid ${t} usage. ${t} requires at least two parameters.`,arityIsAtLeastOne:t=>`WDE0043: Invalid ${t} usage. ${t} requires at least one parameter.`},filterValidations:{typeIsString:(t,a)=>`WDE0044: Invalid ${t} parameter value [${K(a)}]. ${t} parameter must be a String.`,typeIsStringNumberOrDate:(t,a)=>`WDE0045: Invalid ${t} parameter value [${K(a)}]. Valid ${t} parameter types are String, Number or Date.`,typeIsStringNumberBoolOrDate:(t,a)=>`WDE0045: Invalid ${t} parameter value [${K(a)}]. Valid ${t} parameter types are String, Number, Boolean or Date.`,sameType:(t,a,e)=>`WDE0046: Invalid ${t} parameter values [${K(a)}] and [${K(e)}]. Both parameters must be of the same type.`,typeIsStringNumberOrDateForAll:t=>`WDE0047: Invalid ${t} usage. ${t} supports only Number, String or Date items.`,validFieldName:(t,a)=>`WDE0048: Invalid ${t} field value [${K(a)}]. ${t} field must be a String.`,isInstanceOfSameClass:(t,a,e)=>`WDE0049: Invalid ${t} parameter [${K(e)}]. ${t} expects ${a} only.`,isForCollection:(t,a,e)=>`WDE0050: Invalid ${t} parameter query for [${e}]. ${t} accepts ${a} for the same collection only.`},filterTreeValidations:{objectType:(t,a)=>`WDE0056: ${t} should be an Object. Got ${M(a)} instead`,arrayType:(t,a)=>`WDE0057: ${t} should be an Array. Got ${M(a)} instead`,arrayLength:(t,a,e)=>`WDE0057: ${M(e)}.length is ${e.length}. ${t} Array should have length ${a}`,comparisonOperatorType:(t,a)=>`WDE0058: ${t} should be a Date, Number, or String. Got ${M(a)} instead`,stringOperatorType:(t,a)=>`WDE0059: ${t} should be a String. Got ${M(a)} instead`,setOperatorItems:(t,a)=>`WDE0060: ${t} Array should only contain values of types Date, Number, and String. Got ${M(a)} instead`,inOperatorItems:t=>`WDE0061: $in Array should have length 2, and match [String, Number]. Got ${M(t)} instead`,matchesOperatorRequiredProperty:(t,a)=>`WDE0062: $matches value ${M(a)} does not have property ${t}`,matchesOperatorIgnoreCase:t=>`WDE0063: $matches.ignoreCase should equal true. Got ${M(t)} instead`,matchesOperatorSpecItems:t=>`WDE0064: $matches.spec Array values should be either {"type":"anyOf","value":" -"} or {"type":"literal","value":String}. Got ${M(t)} instead`,regexNotAllowed:()=>"WDE0070: $regex keyword is not allowed."},sortValidations:{typeIsStringOrArrayOfStrings:(t,a)=>`WDE0051: Invalid ${t} parameters [${a.map(K)}]. Valid ${t} values are String, Array of String or varargs String.`},orderByValidations:{sortModelType:t=>`WDE0065: Sort Model should be an Array. Got ${M(t)} instead`,sortModelItemType:t=>`WDE0066: Sort Model Array should contain values of type Object only. Got ${M(t)} instead`,sortModelItem:t=>`WDE0067: Sort Model Array items should have a single property with value "asc" or "desc". Got ${M(t)} instead`},internalError:t=>`WDE0053: Internal wixData error: ${t}`,serverInvalidResponse:t=>"WDE0055: Failed to parse server response."+(t?` ${t}`:""),itemDoesNotExist:(t,a)=>`WDE0073: Item [${t}] does not exist in collection [${a}].`,cursorPagingDoesNotSupportSkip:()=>"WDE0080: Skip is not supported in cursor paging.",payloadIsTooLarge:()=>"WDE0109: Payload is too large."};function M(t){return Hc(t)}const ia={ItemDoesNotExist:"WD_ITEM_DOES_NOT_EXIST",ItemAlreadyExists:"WD_ITEM_ALREADY_EXISTS",SiteInTemplateMode:"WD_SITE_IN_TEMPLATE_MODE",UnknownError:"WD_UNKNOWN_ERROR",ValidationError:"WD_VALIDATION_ERROR",CollectionDeleted:"WD_COLLECTION_DELETED",SchemaDoesNotExist:"WD_SCHEMA_DOES_NOT_EXIST",PermissionDenied:"WD_PERMISSION_DENIED",BadRequest:"WD_BAD_REQUEST",Unauthorized:"WD_UNAUTHORIZED",TooManyRequests:"WD_TOO_MANY_REQUESTS",RequestTimedOut:"WD_REQUEST_TIMED_OUT",QuotaExceeded:"WD_DATABASE_QUOTA_EXCEEDED",QueryExecutionError:"WD_QUERY_EXECUTION_ERROR"};function Ft(t,a,e){return oa(t,a,e)}function At(t){return oa(t,ia.ValidationError)}function ft(t){const a=t.startsWith("WDE")?t.substring(0,7):"WDE0020";return oa(t,void 0,{applicationError:{code:a,description:t}})}function oa(t,a,e){const n=a&&a!==ia.UnknownError?ca:Error,r=new n(t);return a&&(r.code=a),e&&(r.details=e),r}class ca extends Error{constructor(a){super(a),this.name="Error",this.errorGroup="User",Error.captureStackTrace&&Error.captureStackTrace(this,ca)}}class da extends Error{constructor(a,e,n,r,i){super(a),this.message=a,this.code=e,this.item=n,this.name=r,this.originalIndex=i,Error.captureStackTrace&&Error.captureStackTrace(this,da)}}class nn{constructor(){this._validations=[]}arityIsZero(a){return this.addValidation(()=>a.length===0,()=>v.arityValidations.arityIsZero(this.operatorName??""))}arityIsOne(a){return this.addValidation(()=>a.length===1,()=>v.arityValidations.arityIsOne(this.operatorName??""))}arityIsTwo(a){return this.addValidation(()=>a.length===2,()=>v.arityValidations.arityIsTwo(this.operatorName??""))}arityIsThree(a){return this.addValidation(()=>a.length===3,()=>v.arityValidations.arityIsThree(this.operatorName??""))}arityIsAtLeastTwo(a){return this.addValidation(()=>a.length>=2,()=>v.arityValidations.arityIsAtLeastTwo(this.operatorName??""))}arityIsAtLeastOne(a){return this.addValidation(()=>a.length>=1,()=>v.arityValidations.arityIsAtLeastOne(this.operatorName??""))}addValidation(a,e){return this._validations.push({predicateFn:a,messageFn:e}),this}}class Ct extends nn{constructor(a){super(),this._invalidArguments=sa(a)}validateAndAggregate(){const a=this._validations.every(({predicateFn:e,messageFn:n})=>this._appendIfInvalid(e(),n()));return[this._invalidArguments,a]}_appendIfInvalid(a,e){return a?!0:(this._invalidArguments.push(e),!1)}}class Xc extends nn{constructor(a=At){super(),this.buildError=a}validateAndReject(){return Promise.resolve().then(()=>{this._validations.forEach(({predicateFn:a,messageFn:e})=>{if(!a())throw this.buildError(e())})})}validateAndReturn(){const a=[];return this._validations.forEach(({predicateFn:e,messageFn:n})=>{e()||a.push(n())}),a}}class zc extends Xc{arity(a,e,n,r){return this.addValidation(()=>e.length<=r&&e.length>=n,()=>v.invalidArgumentLength(a,n,r,e.length))}_isObject(a,e){return this.addValidation(()=>F(a),()=>v.itemMustBeAnObject(a,e))}item(a,e,n){return this._isObject(a,e).addValidation(()=>a._id!==void 0?w(a._id):!n,()=>v.updateItemInvalid())}items(a,e){return this.addValidation(()=>T(a)&&a.every(n=>F(n)&&(n._id===void 0||n._id===null||w(n._id))),()=>v.itemsMustBeArrayOfObjects(e)).addValidation(()=>a.length<=1e3,()=>v.itemsMustBeLessThanThousand(e))}fieldName(a){return this.addValidation(()=>w(a),()=>v.fieldNameMustBeAString())}itemId(a){return this.addValidation(()=>w(a),()=>v.itemIdMustBeAString())}itemIds(a,e){return this.addValidation(()=>T(a)&&a.every(n=>w(n)),()=>v.itemIdsMustBeArrayOfStrings()).addValidation(()=>a.length<=1e3,()=>v.removeItemsMustBeLessThanThousand(e))}_options(a,e){return this.addValidation(()=>{const n=F(a)&&e.every(r=>r==="language"?Zc(a[r]):td(a[r]));return a==null||n},()=>v.optionsInvalid(e))}referenceRemoveParameters(a){return this.addValidation(()=>T(a)&&a.every(ad),v.referenceOperationParameterError)}referenceParameters(a){return this.addValidation(()=>T(a)&&a.every(Ot),v.referenceOperationParameterError)}referenceParameter(a){return this.addValidation(()=>Ot(a),v.referenceOperationParameterError)}isNonEmptyString(a,e){return this.addValidation(()=>typeof a=="string"&&a.length>0,()=>v.queryValidations.isNonEmptyString(e))}references(a){return this.addValidation(()=>T(a)&&a.every(e=>w(e.relationshipName)&&Ot(e.left)&&Ot(e.right)),v.invalidReferenceError)}options(a){return this._options(a,["suppressAuth","suppressHooks","showDrafts","consistentRead","language"])}bulkInsertOptions(a){return this._options(a,["suppressAuth","suppressHooks","overrideExisting"])}bulkUpdateOptions(a){return this._options(a,["suppressAuth","suppressHooks","showDrafts"])}bulkRemoveOptions(a){return this._options(a,["suppressAuth","suppressHooks","showDrafts"])}truncateOptions(a){return this._options(a,["suppressAuth"])}collectionName(a){return this.addValidation(()=>w(a),()=>v.collectionNameMustBeAString())}}function Qc(t){return new zc(t)}function Zc(t){return t==null||w(t)&&t.length>0}function td(t){return t==null||ra(t)}function Ot(t){return w(t)&&t!==""||F(t)&&t.hasOwnProperty("_id")}function ad(t){return w(t)||F(t)&&t.hasOwnProperty("_id")}const ed=(t=class{})=>class extends t{constructor(a={}){super(a),this.orderBy=a.orderBy||[],this.invalidArguments=a.invalidArguments||[]}ascending(...a){return this._sortClause("asc",".ascending",a)}descending(...a){return this._sortClause("desc",".descending",a)}getSortModel(){if(this.invalidArguments.length>0)throw At(v.sortBuilderInvalid(this.invalidArguments));return this.orderBy}setSortModel(a){return this._copySort(a,[])}_sortClause(a,e,n){let r=[];this.orderBy&&(r=sa(this.orderBy));const i=nd(r,a),c=T(n[0])&&n.length===1?n[0]:Array.prototype.slice.call(n,0),[d,s]=this._sortValidator(e).arityIsAtLeastOne(n).allStrings(c).validateAndAggregate();return s&&c.forEach(i),this._copySort(r,d)}_sortValidator(a){return new rd(a,this.invalidArguments)}_copySort(a,e){return new this.constructor({...this,orderBy:a,invalidArguments:e})}};function nd(t,a){return e=>{const n={[e]:a};t.push(n)}}class rd extends Ct{constructor(a,e){super(e),this.operatorName=a}allStrings(a){return this.addValidation(()=>a.every(w),()=>v.sortValidations.typeIsStringOrArrayOfStrings(this.operatorName,a))}}class sd extends ed(){}function id(t){return Object.prototype.toString.call(t)==="[object Object]"}function $t(t){return Object.prototype.toString.call(t)==="[object Array]"}function wt(t){return Object.prototype.toString.call(t)==="[object Date]"}function rn(t){return typeof t=="number"}function od(t){return typeof t=="boolean"}function Dt(t){return typeof t=="string"}function cd(t){return typeof t=="function"}function dd(t){return t===void 0}function ld(t){return t===null}function Z(t){if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String";if($t(t))return"Array";if(wt(t))return"Date";if(id(t))return"Object";if(dd(t))return"Undefined";if(ld(t))return"Null";const a=Object.prototype.toString.call(t).slice(8,-1).replace(/\s/g,"");return ud(a)}function ud(t){if(!Dt(t))return t;const a=t.slice(0,1).toUpperCase(),e=t.slice(1,t.length);return a+e}function Mt(t){if(t==null||typeof t!="object")return t;let a=null;if(wt(t))a=new Date(t.getTime());else{a=t.constructor();for(const e in t)a[e]=Mt(t[e])}return a}let hd=class{constructor(a,e,n){this._validations=[],this.operatorName=a,this.ctor=n,this._invalidArguments=Mt(e)}typeIsString(a){return this.addValidation(()=>Dt(a),()=>`Invalid ${this.operatorName} parameter value [${Z(a)}]. ${this.operatorName} parameter must be a String.`)}typeIsStringNumberOrDate(a){return this.addValidation(()=>Na(a),()=>`Invalid ${this.operatorName} parameter value [${Z(a)}]. Valid ${this.operatorName} parameter types are String, Number or Date.`)}typeIsStringNumberBoolOrDate(a){return this.addValidation(()=>md(a),()=>`Invalid ${this.operatorName} parameter value [${Z(a)}]. Valid ${this.operatorName} parameter types are String, Number, Boolean or Date.`)}sameType(a,e){return this.addValidation(()=>Z(a)===Z(e),()=>`Invalid ${this.operatorName} parameter values [${Z(a)}] and [${Z(e)}]. Both parameters must be of the same type.`)}typeIsStringNumberOrDateForAll(a){return this.addValidation(()=>a.every(Na),()=>`Invalid ${this.operatorName} usage. ${this.operatorName} supports only Number, String or Date items.`)}validFieldName(a){return this.addValidation(()=>Dt(a),()=>`Invalid ${this.operatorName} field value [${Z(a)}]. ${this.operatorName} field must be a String.`)}isInstanceOfSameClass(a){return this.addValidation(()=>a instanceof this.ctor,()=>`Invalid ${this.operatorName} parameter [${Z(a)}]. ${this.operatorName} expects FilterBuilder only.`)}arityIsOne(a){return this.addValidation(()=>a.length===1,()=>`Invalid ${this.operatorName} usage. ${this.operatorName} requires one parameter.`)}arityIsTwo(a){return this.addValidation(()=>a.length===2,()=>`Invalid ${this.operatorName} usage. ${this.operatorName} requires two parameters.`)}arityIsThree(a){return this.addValidation(()=>a.length===3,()=>`Invalid ${this.operatorName} usage. ${this.operatorName} requires three parameters.`)}arityIsAtLeastTwo(a){return this.addValidation(()=>a.length>=2,()=>`Invalid ${this.operatorName} usage. ${this.operatorName} requires at least two parameters.`)}addValidation(a,e){return this._validations.push({predicateFn:a,messageFn:e}),this}validateAndAggregate(){const a=this._validations.every(({predicateFn:e,messageFn:n})=>this._appendIfInvalid(e(),n()));return[this._invalidArguments,a]}_appendIfInvalid(a,e){return a?!0:(this._invalidArguments.push(e),!1)}};function Na(t){return Dt(t)||rn(t)||wt(t)}function md(t){return Dt(t)||rn(t)||wt(t)||od(t)}const pd=[Id,Ad,Dd,bd,Nd];function gd(t){const[a]=Lt(t);return a}function Lt(t){return Array.isArray(t)?vd(t):typeof t=="object"&&t!==null&&!Sd(t)?Pd(t):[t,!1]}function vd(t){const a=t.map(Lt),e=0<a.filter(([,r])=>r).length;return[a.map(([r])=>r),e]}function Pd(t){const[a,e]=d(t),[n,r]=c(a);return[n,e||r];function c(l){const u=_d(l);if(!u)return[l,!1];const[I]=Lt(u);return[I,!0]}function d(l){const u=Object.entries(l).map(s).filter(([,,b])=>b),I={...l,...o(u)},A=!!u.length;return[I,A]}function s([l,u]){const[I,A]=Lt(u);return[l,I,A]}function o(l){return l.reduce((u,[I,A])=>({...u,[I]:A}),{})}}function _d(t){for(const a of pd){const e=a(t);if(e)return e}}function Id(t){const a=t.$and;if(Array.isArray(a)&&a.length===1)return a[0]}function Ad(t){const a=t.$and;return Array.isArray(a)&&a.length===0?{}:null}function Dd(t){const a=t.$and;if(!a)return;let e=[],n=[];if(a.forEach(s=>{i(s)?n=[...n,s]:e=[...e,s]}),e.length<=1||c(e))return;return{$and:[Object.assign({},...e),...n]};function i(s){const o=Object.keys(s);return o.every(l=>l.startsWith("$"))&&o.length>0}function c(s){const o=s.map(u=>Object.keys(u)).reduce((u,I)=>[...u,...I],[]);return d(o).length!==o.length}function d(s){const o={};return s.forEach(l=>o[l]=!0),Object.keys(o)}}function bd(t){const a=t.$and;return!a||!!!a.find(r=>r.$and)?void 0:{$and:a.reduce((r,i)=>{const c=i.$and;return c?[...r,...c]:[...r,i]},[])}}function Nd(t){const a=t.$or;return!a||!!!a.find(r=>r.$or)?void 0:{$or:a.reduce((r,i)=>{const c=i.$or;return c?[...r,...c]:[...r,i]},[])}}function Sd(t){return t instanceof Date}const yd=(t=class{})=>class extends t{constructor(a={}){super(a),this.filterTree=a.filterTree||{$and:[]},this.invalidArguments=a.invalidArguments||[],this.encoder=a.encoder||{}}eq(...a){return this._binaryAnd("$eq",".eq",a)}ne(...a){return this._binaryAnd("$ne",".ne",a)}ge(...a){return this._AndLogicalEquivalence("$gte",".ge",a)}gt(...a){return this._AndLogicalEquivalence("$gt",".gt",a)}le(...a){return this._AndLogicalEquivalence("$lte",".le",a)}lt(...a){return this._AndLogicalEquivalence("$lt",".lt",a)}isNotEmpty(a){const[e,n]=this._filterValidator(".isNotEmpty").arityIsOne(arguments).validFieldName(a).validateAndAggregate();return n?this.ne(a,null):this._copy(this.filterTree,e)}isEmpty(a){const[e,n]=this._filterValidator(".isEmpty").arityIsOne(arguments).validFieldName(a).validateAndAggregate();return n?this.eq(a,null):this._copy(this.filterTree,e)}startsWith(...a){return this._AndStringOperand("$startsWith",".startsWith",a)}endsWith(...a){return this._AndStringOperand("$endsWith",".endsWith",a)}contains(...a){return this._AndStringOperand("$contains",".contains",a)}hasSome(...a){return this._AndSetOperand("$hasSome",".hasSome",a)}hasAll(...a){return this._AndSetOperand("$hasAll",".hasAll",a)}or(a){const[e,n]=this._filterValidator(".or").arityIsOne(arguments).isInstanceOfSameClass(a).validateAndAggregate();if(n){const r=Sa(this.filterTree)?[]:[this.filterTree];return this._copy(Rt({$or:[...r,a.filterTree]}),e.concat(a.invalidArguments))}else return this._copy(this.filterTree,e)}and(a){const[e,n]=this._filterValidator(".and").arityIsOne(arguments).isInstanceOfSameClass(a).validateAndAggregate();if(n){const r=Sa(this.filterTree)?[]:[this.filterTree];return this._copy(Rt(...r,a.filterTree),e.concat(a.invalidArguments))}else return this._copy(this.filterTree,e)}not(a){const[e,n]=this._filterValidator(".not").arityIsOne(arguments).isInstanceOfSameClass(a).validateAndAggregate();if(n){const r=Mt(this.filterTree),i={$not:[a.filterTree]},c=wd(r,i);return this._copy(c,e.concat(a.invalidArguments))}else return this._copy(this.filterTree,e)}between(a,e,n){const[r,i]=this._filterValidator(".between").arityIsThree(arguments).sameType(e,n).typeIsStringNumberOrDate(e).typeIsStringNumberOrDate(n).validateAndAggregate();return i?this.ge(a,e).lt(a,n):this._copy(this.filterTree,r)}getFilterModel(){if(this.invalidArguments.length>0)throw new Error(this.invalidArguments.join(" "));return gd(this.filterTree)}setFilterModel(a){return this._copy(a,[])}_binaryAnd(a,e,n){const[r,i]=Array.prototype.slice.call(n),[c]=this._filterValidator(e).arityIsTwo(n).validFieldName(r).validateAndAggregate(),d=this._makeNewFilter(r,a,i);return this._copy(d,c)}_AndLogicalEquivalence(a,e,n){const[r,i]=Array.prototype.slice.call(n),[c]=this._filterValidator(e).arityIsTwo(n).validFieldName(r).typeIsStringNumberBoolOrDate(i).validateAndAggregate(),d=this._makeNewFilter(r,a,i);return this._copy(d,c)}_AndStringOperand(a,e,n){const[r,i]=Array.prototype.slice.call(n),[c]=this._filterValidator(e).arityIsTwo(n).validFieldName(r).typeIsString(i).validateAndAggregate(),d=this._makeNewFilter(r,a,i);return this._copy(d,c)}_AndSetOperand(a,e,n){const[r,...i]=Array.prototype.slice.call(n),c=$t(i[0])?i[0]:i,[d]=this._filterValidator(e).arityIsAtLeastTwo(n).validFieldName(r).typeIsStringNumberOrDateForAll(c).validateAndAggregate(),s=this._makeNewFilter(r,a,c);return this._copy(s,d)}_makeNewFilter(a,e,n){const r=Mt(this.filterTree),i=n===void 0?null:n,c=this._buildFilter(a,e,i);return $t(r.$and)?(r.$and.push(c),r):Cd(r)?Rt(c):Rt(r,c)}_buildFilter(a,e,n){if(e!=="$eq"){const r={};return r[a]={},r[a][e]=this._encode(n),r}else{const r={};return r[a]=this._encode(n),r}}_encode(a){return cd(this.encoder)?this.encoder(a):a}_copy(a,e){return new this.constructor({...this,filterTree:a,invalidArguments:e})}_filterValidator(a){return new hd(a,this.invalidArguments,this.constructor)}};function xd(t){return $t(t.$and)}function Cd(t){return Object.keys(t).length===0}function Rt(...t){return{$and:t}}function wd(...t){return{$and:t.reduce((a,e)=>xd(e)?a.concat(e.$and):a.concat([e]),[])}}function Sa(t){return t&&t.$and&&t.$and.length===0}function Od(t){return wt(t)?{$date:t.toJSON()}:t}const{filterTreeValidations:L}=v;function kt(t,a){if(!F(t))return[L.objectType("Filter Model",t)];const e=[];for(const n of Object.keys(t)){const r=t[n],i=on(a,n);switch(n){case"$and":case"$or":T(r)||e.push(L.arrayType(i,r)),T(r)&&e.push(...r.flatMap(c=>kt(c,i)));break;case"$not":T(r)||e.push(...kt(r,i)),T(r)&&r.length!==1&&e.push(L.arrayLength(i,1,r)),T(r)&&r.length>0&&e.push(...kt(r[0],i));break;default:n.startsWith("$")?e.push(`Unexpected operator ${i}`):e.push(...Rd(r,i))}}return e}function Rd(t,a){return F(t)&&!zt(t)&&Object.keys(t).some(e=>e.startsWith("$"))?sn(t,a):[]}function sn(t,a){if(!F(t))return[L.objectType(a,t)];const e=[];for(const n of Object.keys(t)){const r=on(a,n),i=t[n];switch(n){case"$eq":case"$ne":break;case"$gt":case"$gte":case"$lt":case"$lte":zt(i)||e.push(L.comparisonOperatorType(r,i));break;case"$startsWith":case"$endsWith":case"$contains":w(i)||e.push(L.stringOperatorType(r,i));break;case"$exists":ra(i)||e.push(`${r} should be a Boolean`);break;case"$hasSome":case"$hasAll":case"$in":T(i)||e.push(L.arrayType(r,i)),T(i)&&!i.every(zt)&&e.push(L.setOperatorItems(r,i));break;case"$matches":if(F(i)||e.push(L.objectType(r,i)),F(i)&&i.ignoreCase!==!0&&e.push(L.matchesOperatorIgnoreCase(i)),F(i)&&!T(i.spec)&&e.push(L.arrayType(`${r}.spec`,i.spec)),T(i==null?void 0:i.spec)){const c=s=>F(s)?s.type==="anyOf"&&s.value===` 	
-`?!0:s.type==="literal"&&w(s.value):!1,d=i.spec.find(s=>!c(s));d!==void 0&&e.push(L.matchesOperatorSpecItems(d))}break;case"$regex":e.push(L.regexNotAllowed());break;case"$not":e.push(...sn(i,r));break;default:e.push(`Unknown operator ${r}`)}}return e}function zt(t){return xt(t)||w(t)||vt(t)?!0:F(t)&&w(t.$date)&&Object.keys(t).length===1}function on(t,a){return t===void 0?a:`${t}.${a}`}const Ed=(t=class{})=>class extends yd(t){constructor(a){super(a),this.validateCollectionName=(a==null?void 0:a.validateCollectionName)??!0}or(a){const e=super.or.apply(this,arguments);return this._validateCollectionName(e,a,".or")}and(a){const e=super.and.apply(this,arguments);return this._validateCollectionName(e,a,".and")}not(a){const e=super.not.apply(this,arguments);return this._validateCollectionName(e,a,".not")}_validateCollectionName(a,e,n){if(a.invalidArguments.length>0||!this.validateCollectionName)return a;const r=Ud(e,this.collectionName),[i,c]=new ya(n,a.invalidArguments,this.constructor,this.constructorName??this.constructor.name).isForCollection(r,this.collectionName).validateAndAggregate();return c?a:this._copy(this.filterTree,i)}_matchesUrlized(a,e){const[n,r]=this._filterValidator("._matchesUrlized").arityIsTwo(arguments).validFieldName(a).typeIsString(e).validateAndAggregate();if(r){const i=this._makeNewFilter(a,...Td(e));return this._copy(i,n)}return this._copy(this.filterTree,n)}getFilterModel(){if(this.invalidArguments.length>0)throw At(v.filterBuilderInvalid(this.invalidArguments));return super.getFilterModel()}_filterValidator(a){return new ya(a,this.invalidArguments,this.constructor,this.constructorName??this.constructor.name)}};function Td(t){if(a(t))return["$in",[t,Number.parseInt(t)]];return["$matches",{ignoreCase:!0,spec:fd(t)}];function a(e){return/^-?[0-9]{1,16}$/.test(e)}}function fd(t){const a=t.split("-"),e=[];for(let i=0;i<a.length-1;i++)n(e,a[i]),r(e);return n(e,a[a.length-1]),e;function n(i,c){c.length!==0&&i.push({type:"literal",value:c})}function r(i){i.push({type:"anyOf",value:` 	
-`})}}class ya extends Ct{constructor(a,e,n,r){super(e),this.operatorName=a,this.ctor=n,this.constructorName=r}typeIsString(a){return this.addValidation(()=>w(a),()=>v.filterValidations.typeIsString(this.operatorName,a))}typeIsStringNumberOrDate(a){return this.addValidation(()=>xa(a),()=>v.filterValidations.typeIsStringNumberOrDate(this.operatorName,a))}typeIsStringNumberBoolOrDate(a){return this.addValidation(()=>kd(a),()=>v.filterValidations.typeIsStringNumberBoolOrDate(this.operatorName,a))}sameType(a,e){return this.addValidation(()=>K(a)===K(e),()=>v.filterValidations.sameType(this.operatorName,a,e))}typeIsStringNumberOrDateForAll(a){return this.addValidation(()=>a.every(xa),()=>v.filterValidations.typeIsStringNumberOrDateForAll(this.operatorName))}validFieldName(a){return this.addValidation(()=>w(a),()=>v.filterValidations.validFieldName(this.operatorName,a))}isInstanceOfSameClass(a){return this.addValidation(()=>a instanceof this.ctor,()=>v.filterValidations.isInstanceOfSameClass(this.operatorName,this.constructorName,a))}isForCollection(a,e){return this.addValidation(()=>a.collectionName===e,()=>v.filterValidations.isForCollection(this.operatorName,this.constructorName,a.collectionName))}}function xa(t){return w(t)||vt(t)||xt(t)}function kd(t){return w(t)||vt(t)||xt(t)||ra(t)}function Ud(t,a){if(!t||!t.constructor)return t;const e=t.collectionName?t.collectionName:a;return new t.constructor({...t,collectionName:e})}const cn=Ed;class im extends cn(){get constructorName(){return"FilterBuilder"}_build(){return this.getFilterModel()}}class dn extends cn(){in(...a){return this._AndSetOperand("$in",".in",a)}exists(...a){return this._binaryAnd("$exists",".exists",a)}gte(a,e){return this.ge(a,e)}lte(a,e){return this.le(a,e)}build(){return this.getFilterModel()}hasAnyFilter(){var a,e;return this.filterTree===null||this.filterTree===void 0||!Object.keys(this.filterTree).every(n=>n==="$and")?!1:(((e=(a=this.filterTree)==null?void 0:a.$and)==null?void 0:e.length)??0)>0}}function Fd(t={}){return new dn(t)}var Ca;(function(t){t.LIVE="LIVE",t.SANDBOX="SANDBOX",t.SANDBOX_PREFERRED="SANDBOX_PREFERRED"})(Ca||(Ca={}));var ct;(function(t){t.UNKNOWN_ACTION="UNKNOWN_ACTION",t.SET_FIELD="SET_FIELD",t.REMOVE_FIELD="REMOVE_FIELD",t.INCREMENT_FIELD="INCREMENT_FIELD",t.APPEND_TO_ARRAY="APPEND_TO_ARRAY",t.REMOVE_FROM_ARRAY="REMOVE_FROM_ARRAY"})(ct||(ct={}));var lt;(function(t){t.UNKNOWN_ACTION_TYPE="UNKNOWN_ACTION_TYPE",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE",t.PATCH="PATCH"})(lt||(lt={}));var wa;(function(t){t.UNKNOWN_ACTION="UNKNOWN_ACTION",t.INSERTED="INSERTED",t.UPDATED="UPDATED"})(wa||(wa={}));var rt;(function(t){t.ASC="ASC",t.DESC="DESC"})(rt||(rt={}));var Qt;(function(t){t.UNKNOWN_SORT_MODE="UNKNOWN_SORT_MODE",t.WIX_QUERY="WIX_QUERY",t.RANDOM="RANDOM"})(Qt||(Qt={}));var qt;(function(t){t.OR="OR",t.AND="AND"})(qt||(qt={}));function Zt(t){return Fd({...t,encoder:Od,validateCollectionName:!1})}const Oa=9007199254740991;class ln extends Ct{constructor(a,e){super(e),this.operatorName=a}_isNumber(a,e){return this.addValidation(()=>vt(e),()=>v.queryValidations.isNumber(this.operatorName,a,e))}isPositiveNumber(a){return this._isNumber("positive",a).addValidation(()=>!Number.isNaN(a)&&a>0,()=>v.queryValidations.isPositiveNumber(this.operatorName,a))}isNonNegativeNumber(a){return this._isNumber("non-negative",a).addValidation(()=>!Number.isNaN(a)&&a>=0,()=>v.queryValidations.isNonNegativeNumber(this.operatorName,a))}isInteger(a){return this.addValidation(()=>!Number.isNaN(a)&&Number.isFinite(a)&&Number.isInteger(a)&&a<Oa&&a>-Oa,()=>v.queryValidations.isInteger(this.operatorName,a))}isOptionalInteger(a){return a===void 0?this:this.isInteger(a)}notGreaterThan(a,e){return this.addValidation(()=>a<=e,()=>v.queryValidations.notGreaterThan(this.operatorName,a,e))}nonEmptyString(a){return this.addValidation(()=>typeof a=="string"&&a.length>0,()=>v.queryValidations.isNonEmptyString(this.operatorName))}}class jt{constructor(a){this.eq=(...e)=>this.withFilter("eq",e),this.ne=(...e)=>this.withFilter("ne",e),this.ge=(...e)=>this.withFilter("ge",e),this.gt=(...e)=>this.withFilter("gt",e),this.gte=(...e)=>this.withFilter("gte",e),this.le=(...e)=>this.withFilter("le",e),this.lt=(...e)=>this.withFilter("lt",e),this.lte=(...e)=>this.withFilter("lte",e),this.isNotEmpty=(...e)=>this.withFilter("isNotEmpty",e),this.isEmpty=(...e)=>this.withFilter("isEmpty",e),this.startsWith=(...e)=>this.withFilter("startsWith",e),this.endsWith=(...e)=>this.withFilter("endsWith",e),this.contains=(...e)=>this.withFilter("contains",e),this.hasSome=(...e)=>this.withFilter("hasSome",e),this.in=(...e)=>this.withFilter("in",e),this.hasAll=(...e)=>this.withFilter("hasAll",e),this.exists=(...e)=>this.withFilter("exists",e),this.or=(...e)=>this.withFilter("or",e.map(this.extractFilter)),this.and=(...e)=>this.withFilter("and",e.map(this.extractFilter)),this.not=(...e)=>this.withFilter("not",e.map(this.extractFilter)),this.between=(...e)=>this.withFilter("between",e),this.collectionName=a.collectionName,this.filterBuilder=(a==null?void 0:a.filterBuilder)??Zt({filterTree:{}}),this.sort=(a==null?void 0:a.sort)??new sd}get filterTree(){return this.filterBuilder.filterTree}setFilterModel(a){const e=Zt({filterTree:a,invalidArguments:kt(a)});return this.copy({filterBuilder:e})}getFilterModel(){return this.filterBuilder.build()}withFilter(a,e){return this.copy({filterBuilder:this.filterBuilder[a].apply(this.filterBuilder,e)})}extractFilter(a){return a!=null&&a.filterBuilder?a.filterBuilder:a}get orderBy(){return this.sort.orderBy}ascending(...a){return this.copy({sort:this.sort.ascending(...a)})}descending(...a){return this.copy({sort:this.sort.descending(...a)})}}class la extends jt{constructor(a){super(a),this.projectedFields=(a==null?void 0:a.projectedFields)??[],this.limitNumber=a==null?void 0:a.limitNumber,this.skipNumber=(a==null?void 0:a.skipNumber)??0,this.included=(a==null?void 0:a.included)??[],this.onFind=a.onFind,this.onDistinct=a.onDistinct,this.onCount=a.onCount,this.ownInvalidArguments=a.invalidArguments??[],this.randomSortOptions=a.randomSortOptions}copy(a){return new la({...this,filterBuilder:a.filterBuilder??this.filterBuilder,projectedFields:a.projectedFields??this.projectedFields,limitNumber:a.limitNumber??this.limitNumber,skipNumber:a.skipNumber??this.skipNumber,included:a.included??this.included,sort:a.sort??this.sort,invalidArguments:a.invalidArguments??this.ownInvalidArguments,randomSortOptions:a.randomSortOptions??this.randomSortOptions,onFind:this.onFind,onDistinct:this.onDistinct,onCount:this.onCount})}count(a){return this.onCount(arguments,this.toQueryParams(),a)}distinct(a,e){return this.onDistinct(arguments,this.toQueryParams(),a,e)}find(a){return this.onFind(arguments,this.toQueryParams(),a)}get invalidArguments(){return[...this.ownInvalidArguments,...this.filterBuilder.invalidArguments,...this.sort.invalidArguments]}toQueryParams(){let a;try{a=this.filterBuilder.build()}catch{a=this.filterBuilder.filterTree}return{collectionName:this.collectionName,invalidArguments:this.invalidArguments,projectedFields:this.projectedFields,limitNumber:this.limitNumber,skipNumber:this.skipNumber,included:this.included,filterTree:a,orderBy:this.orderBy,randomSortOptions:this.randomSortOptions}}fields(...a){return this.copy({projectedFields:[...this.projectedFields,...a]})}limit(a){const[e]=this.queryValidator(".limit").arityIsOne(arguments).isPositiveNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,limitNumber:a})}skip(a){const[e]=this.queryValidator(".skip").arityIsOne(arguments).isNonNegativeNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,skipNumber:a})}include(...a){if(a.length===0)return this;const e=a[a.length-1],n=typeof e=="number"?e:void 0,r=n===void 0?a.length:a.length-1,i=a.slice(0,r).map(d=>({fieldName:d,limit:n})),[c]=a.slice(0,r).reduce((d,s,o,l)=>d.nonEmptyString(s),this.queryValidator(".include")).validateAndAggregate();return this.copy({invalidArguments:c,included:[...this.included,...i]})}randomSort({seed:a}){const[e]=this.queryValidator(".randomSort").arityIsOne(arguments).validateAndAggregate(),[n]=this.queryValidator(".randomSort.seed").isOptionalInteger(a).validateAndAggregate(),r=[...e,...n];return this.copy({invalidArguments:r,randomSortOptions:{seed:a}})}queryValidator(a,e=this.ownInvalidArguments){return new ln(a,e)}}class Y{constructor(a,e,n,r,i,c){if(this.paging=e,this.fetch=n,this.items=a,this.currentPage=c,this.collectionName=r.collectionName,this.skipNumber=r.skipNumber??(i==null?void 0:i.skipNumber),i)this.pageSize=i.pageSize,this.totalCount=i.totalCount,this.allowOffsetBackwards=(c??0)>0;else{if(this.totalCount=e.total??void 0,this.allowOffsetBackwards=(r.skipNumber??0)>0,r.limitNumber!==void 0)this.pageSize=r.limitNumber;else{const d=a.length;d>0&&(r.skipNumber!==void 0&&d+r.skipNumber<=(this.totalCount??0)||e.hasNext)&&(this.pageSize=d)}this.pageSize&&a.length>0&&(this.currentPage=Math.ceil((r.skipNumber??0)/this.pageSize))}}get length(){return this.items.length}[Symbol.iterator](){return this.items[Symbol.iterator]()}get totalPages(){if(this.totalCount===0)return 0;const a=this.pageSize;if(a!==void 0&&this.totalCount!==void 0)return Math.ceil(this.totalCount/a);if(this.totalCount!==void 0&&this.skipNumber!==void 0&&this.length>0&&this.length+this.skipNumber<=this.totalCount)return Math.ceil(this.totalCount/this.length)}async next(){if(!this.hasNext())throw At(v.queryValidations.noNextPage(this.collectionName));const a=(this.skipNumber??0)+(this.pageSize??50),[e,n]=await this.fetch(this.nextCursor??a);return new Y(e,n,this.fetch,{skipNumber:this.nextCursor?void 0:a,collectionName:this.collectionName},this,(this.currentPage??0)+1)}async prev(){if(!this.hasPrev())throw At(v.queryValidations.noPrevPage(this.collectionName));const a=Math.max((this.skipNumber??0)-(this.pageSize??50),0),[e,n]=await this.fetch(this.prevCursor??a);return new Y(e,n,this.fetch,{skipNumber:this.nextCursor?void 0:a,collectionName:this.collectionName},this,Math.max((this.currentPage??0)-1,0))}get nextCursor(){var a;return((a=this.paging.cursors)==null?void 0:a.next)??void 0}get prevCursor(){var a;return((a=this.paging.cursors)==null?void 0:a.prev)??void 0}hasNext(){return this.paging.hasNext??!1}hasPrev(){var a;return this.allowOffsetBackwards&&(this.currentPage??0)>0||typeof((a=this.paging.cursors)==null?void 0:a.prev)=="string"}toJSON(){return{items:this.items,totalCount:this.totalCount,pageSize:this.pageSize,currentPage:this.currentPage,length:this.length,totalPages:this.totalPages}}}class ua extends jt{constructor(a){super(a),this.limitNumber=a.limitNumber,this.skipNumber=a.skipNumber??0,this.aggregates=a.aggregates??[],this.groupBy=a.groupBy??[],this.havingBuilder=a.havingBuilder,this.onRun=a.onRun,this.ownInvalidArguments=a.invalidArguments??[]}copy(a){return new ua({...this,limitNumber:a.limitNumber??this.limitNumber,skipNumber:a.skipNumber??this.skipNumber,havingBuilder:a.havingBuilder??this.havingBuilder,filterBuilder:a.filterBuilder??this.filterBuilder,sort:a.sort??this.sort,invalidArguments:a.invalidArguments??this.ownInvalidArguments,groupBy:a.groupBy??this.groupBy,aggregates:[...this.aggregates,...a.addAggregates??[]],onRun:this.onRun})}get invalidArguments(){var a;return[...this.ownInvalidArguments,...this.filterBuilder.invalidArguments,...((a=this.havingBuilder)==null?void 0:a.invalidArguments)??[],...this.sort.invalidArguments]}run(a){var r,i;let e;try{e=this.filterBuilder.build()}catch{e=this.filterBuilder.filterTree}let n;try{n=(r=this.havingBuilder)==null?void 0:r.build()}catch{n=(i=this.havingBuilder)==null?void 0:i.filterTree}return this.onRun(arguments,{collectionName:this.collectionName,invalidArguments:this.invalidArguments,filterTree:e,havingTree:n,aggregates:this.aggregates,groupBy:this.groupBy,limitNumber:this.limitNumber,skipNumber:this.skipNumber,orderBy:this.orderBy},a)}addAggregate(a,e,n,r){const[i]=this.aggregateValidator(e).arityIsAtLeastOne(a).typeIsString(n).typeIsStringIfSet(r).validateAndAggregate();return this.copy({invalidArguments:i,addAggregates:[{name:r??`${n}${e[0].toUpperCase()}${e.substr(1)}`,[e]:n}]})}sum(a,e){return this.addAggregate(arguments,"sum",a,e)}avg(a,e){return this.addAggregate(arguments,"avg",a,e)}min(a,e){return this.addAggregate(arguments,"min",a,e)}max(a,e){return this.addAggregate(arguments,"max",a,e)}count(a="count"){const[e]=this.aggregateValidator("count").arityIsZero(arguments).typeIsString(a).validateAndAggregate();return this.copy({invalidArguments:e,addAggregates:[{name:a,count:!0}]})}filter(a){const[e]=this.aggregateValidator(".filter").arityIsOne(arguments).filterIsNotSet(this.filterBuilder).filterBuilder(a).validateAndAggregate();return this.copy({filterBuilder:a,invalidArguments:e})}group(...a){const[e]=this.aggregateValidator(".group").arityIsAtLeastOne(arguments).groupIsNotSet(this.groupBy).validateAndAggregate();return this.copy({groupBy:a,invalidArguments:e})}having(a){const[e]=this.aggregateValidator(".having").arityIsOne(arguments).havingIsNotSet(this.havingBuilder).filterBuilder(a).validateAndAggregate();return this.copy({havingBuilder:a,invalidArguments:e})}get havingTree(){var a;return(a=this.havingBuilder)==null?void 0:a.filterTree}limit(a){const[e]=this.aggregateValidator(".limit").arityIsOne(arguments).isPositiveNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,limitNumber:a})}skip(a){const[e]=this.aggregateValidator(".skip").arityIsOne(arguments).isNonNegativeNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,skipNumber:a})}aggregateValidator(a){return new $d(a,this.ownInvalidArguments)}}const Ra=9007199254740991;class $d extends Ct{constructor(a,e){super(e),this.operatorName=a,this.operatorName=a}filterBuilder(a){return this.addValidation(()=>a instanceof dn,()=>v.aggregateValidations.filterMustBeBuilder(this.operatorName))}filterIsNotSet(a){return this.addValidation(()=>a===void 0||!a.hasAnyFilter(),()=>v.aggregateValidations.filterIsAlreadySet(this.operatorName))}havingIsNotSet(a){return this.addValidation(()=>a===void 0||!a.hasAnyFilter(),()=>v.aggregateValidations.filterIsAlreadySet(this.operatorName))}groupIsNotSet(a){return this.addValidation(()=>a.length===0,()=>v.aggregateValidations.groupIsAlreadySet(this.operatorName))}_isNumber(a,e){return this.addValidation(()=>vt(e),()=>v.queryValidations.isNumber(this.operatorName,a,e))}isPositiveNumber(a){return this._isNumber("positive",a).addValidation(()=>!Number.isNaN(a)&&a>0,()=>v.queryValidations.isPositiveNumber(this.operatorName,a))}isNonNegativeNumber(a){return this._isNumber("non-negative",a).addValidation(()=>!Number.isNaN(a)&&a>=0,()=>v.queryValidations.isNonNegativeNumber(this.operatorName,a))}isInteger(a){return this.addValidation(()=>!Number.isNaN(a)&&Number.isFinite(a)&&Number.isInteger(a)&&a<Ra&&a>-Ra,()=>v.queryValidations.isInteger(this.operatorName,a))}typeIsString(a){return this.addValidation(()=>w(a),()=>v.filterValidations.typeIsString(this.operatorName,a))}typeIsStringIfSet(a){return this.addValidation(()=>a===void 0||w(a),()=>v.filterValidations.typeIsString(this.operatorName,a))}}function Md(t){var a;return!!((a=t.response)!=null&&a.status)}function Ld(t){const a=t.details.applicationError.data,e=(a==null?void 0:a.jsErrorValue)||!(a!=null&&a.value)&&t.details.applicationError;if(e){const{name:n,message:r,code:i,description:c}=e,d=new Error(r||c);return d.name=n||c,d.code=i,d}return a==null?void 0:a.value}function qd(t){var n,r;const e=(((r=(n=t.details)==null?void 0:n.validationError)==null?void 0:r.fieldViolations)??[]).map(i=>`${i.field}: ${i.description}`);return Ft([t.message,...e].join(`
`),void 0,t.details)}function Bd(t){var e,n;const a=t.details??{};if(((e=a.applicationError)==null?void 0:e.code)==="WDE0078"){const r=Ld(t);if(r)return r}return a.applicationError?Ft(a.applicationError.description,void 0,a):(n=t.details)!=null&&n.validationError?qd(t):null}const Vd={"com.wixpress.cloud.data.api.data.DataItemService.QueryDataItems":!0};function Wd(t){return a=>{const e=t&&Vd[a.methodFqn??""],n=fc(a.data);if(e){const r=`${a.url}?.r=${Lc(n)}`;if(r.length<=2048)return{...a,method:"GET",url:r,data:void 0}}return{...a,data:n}}}class Gd{constructor(a,e){this.httpApiClient=a(Wd(e))}async getDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.getDataItem(a);return N(e.data)})}async insertDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.insertDataItem(a);return N(e.data)})}async saveDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.saveDataItem(a);return N(e.data)})}async updateDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.updateDataItem(a);return N(e.data)})}async patchDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.patchDataItem(a);return N(e.data)})}async bulkPatchDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkPatchDataItems(a);return N(e.data)})}async removeDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.removeDataItem(a);return N(e.data)})}async countDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.countDataItems(a);return N(e.data)})}async queryDistinctValues(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.queryDistinctValues(a);return N(e.data)})}async queryDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.queryDataItems(a);return N(e.data)})}async aggregateDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.aggregateDataItems(a);return N(e.data)})}async aggregatePipelineDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.aggregatePipelineDataItems(a);return N(e.data)})}async bulkInsertDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkInsertDataItems(a);return N(e.data)})}async bulkUpdateDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkUpdateDataItems(a);return N(e.data)})}async bulkSaveDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkSaveDataItems(a);return N(e.data)})}async bulkRemoveDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkRemoveDataItems(a);return N(e.data)})}async queryReferencedDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.queryReferencedDataItems(a);return N(e.data)})}async bulkInsertDataItemReferences(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkInsertDataItemReferences(a);return N(e.data)})}async replaceDataItemReferences(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.replaceDataItemReferences(a);return N(e.data)})}async bulkRemoveDataItemReferences(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.bulkRemoveDataItemReferences(a);return N(e.data)})}async isReferencedDataItem(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.isReferencedDataItem(a);return N(e.data)})}async truncateDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.truncateDataItems(a);return N(e.data)})}async searchDataItems(a){return this.withErrorHandling(async()=>{const e=await this.httpApiClient.searchDataItems(a);return N(e.data)})}async withErrorHandling(a){var e,n;try{return await a()}catch(r){if(Md(r)){if(((e=r.response)==null?void 0:e.status)===413)throw Ft(v.payloadIsTooLarge(),"WDE0109");const i=Bd((n=r.response)==null?void 0:n.data);if(i)throw i}throw Ft(v.internalError("Unknown error."),ia.UnknownError)}}}class un{constructor(a){this.ownInvalidArguments=a.invalidArguments??[],this.fieldModifications=a.fieldModifications??[],this.collectionName=a.collectionName}incrementField(a,e){const[n]=this.patchValidator(".incrementField").arityIsTwo(arguments).isNumber(a,e).validateAndAggregate();return this.copy({invalidArguments:n,addFieldModification:{fieldPath:a,action:"INCREMENT_FIELD",actionOptions:e}})}setField(a,e){const[n]=this.patchValidator(".setField").arityIsTwo(arguments).validateAndAggregate();return this.copy({invalidArguments:n,addFieldModification:{fieldPath:a,action:"SET_FIELD",actionOptions:e}})}appendToArray(a,e){const[n]=this.patchValidator(".appendToArray").arityIsTwo(arguments).validateAndAggregate();return this.copy({invalidArguments:n,addFieldModification:{fieldPath:a,action:"APPEND_TO_ARRAY",actionOptions:e}})}removeFromArray(a,e){const[n]=this.patchValidator(".removeFromArray").arityIsTwo(arguments).validateAndAggregate();return this.copy({invalidArguments:n,addFieldModification:{fieldPath:a,action:"REMOVE_FROM_ARRAY",actionOptions:e}})}removeField(a){const[e]=this.patchValidator(".removeField").arityIsTwo(arguments).validateAndAggregate();return this.copy({invalidArguments:e,addFieldModification:{fieldPath:a,action:"REMOVE_FIELD"}})}patchValidator(a){return new jd(a,this.ownInvalidArguments)}}class ha extends un{constructor(a){super(a),this.onRun=a.onRun,this.itemIds=a.itemIds}copy(a){return new ha({...this,invalidArguments:a.invalidArguments??this.ownInvalidArguments,fieldModifications:[...this.fieldModifications,a.addFieldModification],onRun:this.onRun})}run(a){return this.onRun(arguments,{collectionName:this.collectionName,itemIds:this.itemIds,invalidArguments:this.ownInvalidArguments,fieldModifications:this.fieldModifications},a)}}class ma extends un{constructor(a){super(a),this.onRun=a.onRun,this.itemId=a.itemId}copy(a){return new ma({...this,invalidArguments:a.invalidArguments??this.ownInvalidArguments,fieldModifications:[...this.fieldModifications,a.addFieldModification],onRun:this.onRun})}run(a){return this.onRun(arguments,{collectionName:this.collectionName,itemId:this.itemId,invalidArguments:this.ownInvalidArguments,fieldModifications:this.fieldModifications},a)}}class jd extends Ct{constructor(a,e){super(e),this.operatorName=a,this.operatorName=a}isNumber(a,e){return this.addValidation(()=>vt(e),()=>v.queryValidations.isNumber(this.operatorName,a,e))}}class pa extends jt{constructor(a){super(a),this.projectedFields=(a==null?void 0:a.projectedFields)??[],this.limitNumber=a==null?void 0:a.limitNumber,this.skipNumber=(a==null?void 0:a.skipNumber)??0,this.included=(a==null?void 0:a.included)??[],this.ownInvalidArguments=a.invalidArguments??[],this.queryText=a.queryText,this.searchMode=a.searchMode,this.isFuzzy=a.isFuzzy,this.onRun=a.onRun}copy(a){return new pa({...this,filterBuilder:a.filterBuilder??this.filterBuilder,projectedFields:a.projectedFields??this.projectedFields,limitNumber:a.limitNumber??this.limitNumber,skipNumber:a.skipNumber??this.skipNumber,included:a.included??this.included,sort:a.sort??this.sort,invalidArguments:a.invalidArguments??this.ownInvalidArguments,queryText:a.queryText??this.queryText,searchMode:a.searchMode??this.searchMode,isFuzzy:a.isFuzzy??this.isFuzzy,onRun:this.onRun})}expression(a){return this.copy({queryText:a})}andMode(){return this.copy({searchMode:qt.AND})}orMode(){return this.copy({searchMode:qt.OR})}fuzzy(){return this.copy({isFuzzy:!0})}run(a){return this.onRun(this.toSearchParams(),a)}get invalidArguments(){return[...this.ownInvalidArguments,...this.filterBuilder.invalidArguments,...this.sort.invalidArguments]}toSearchParams(){let a;try{a=this.filterBuilder.build()}catch{a=this.filterBuilder.filterTree}return{collectionName:this.collectionName,invalidArguments:this.invalidArguments,projectedFields:this.projectedFields,limitNumber:this.limitNumber,skipNumber:this.skipNumber,included:this.included,filterTree:a,orderBy:this.orderBy,queryText:this.queryText,searchMode:this.searchMode,isFuzzy:this.isFuzzy}}fields(...a){return this.copy({projectedFields:[...this.projectedFields,...a]})}limit(a){const[e]=this.queryValidator(".limit").arityIsOne(arguments).isPositiveNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,limitNumber:a})}skip(a){const[e]=this.queryValidator(".skip").arityIsOne(arguments).isNonNegativeNumber(a).isInteger(a).validateAndAggregate();return this.copy({invalidArguments:e,skipNumber:a})}include(...a){if(a.length===0)return this;const e=a[a.length-1],n=typeof e=="number"?e:void 0,r=n===void 0?a.length:a.length-1,i=a.slice(0,r).map(d=>({fieldName:d,limit:n})),[c]=a.slice(0,r).reduce((d,s,o,l)=>d.nonEmptyString(s),this.queryValidator(".include")).validateAndAggregate();return this.copy({invalidArguments:c,included:[...this.included,...i]})}queryValidator(a,e=this.ownInvalidArguments){return new ln(a,e)}}function Kd(t){if(t==null)return{};const a=t;if(typeof a.getFilterModel=="function")try{const e=a.getFilterModel();if(e!=null)return e}catch{}return a.filterTree!=null?a.filterTree:{}}class Yd{constructor(a,e,n,r,i){this.environment=n,this.gridAppId=r,this.tracer=i,this.truncate=E(async(c,d,s)=>(await S().arity("truncate",c,1,2).collectionName(d).options(s).validateAndReject(),this.trace("truncate",{collectionName:d})(async o=>{await this.client.truncateDataItems({...o,dataCollectionId:d,...X(s)})}))),this.get=E(async(c,d,s,o)=>(await S().arity("get",c,2,3).collectionName(d).itemId(s).options(o).validateAndReject(),this.trace("get",{collectionName:d,itemId:s})(async l=>{const{dataItem:u}=await this.client.getDataItem({...l,dataCollectionId:d,dataItemId:s,...j(o),fields:o==null?void 0:o.fields}).catch(fa(Fa,{}));return u?J(u):null}))),this.insert=E(async(c,d,s,o)=>(await S().arity("insert",c,2,3).collectionName(d).item(s,d,!1).options(o).validateAndReject(),Zd(s),this.trace("insert",{collectionName:d})(async l=>{const{dataItem:u}=await this.client.insertDataItem({...l,dataCollectionId:d,dataItem:{id:s._id,data:s},...Jd(o)});return J(u)}))),this.save=E(async(c,d,s,o)=>(await S().arity("save",c,2,3).collectionName(d).item(s,d,!1).options(o).validateAndReject(),this.trace("save",{collectionName:d})(async l=>{const{dataItem:u}=await this.client.saveDataItem({...l,dataCollectionId:d,dataItem:{id:s._id,data:s},...Hd(o)});return J(u)}))),this.update=E(async(c,d,s,o)=>(await S().arity("update",c,2,3).collectionName(d).item(s,d,!1).options(o).validateAndReject(),this.trace("update",{collectionName:d})(async l=>{const{dataItem:u}=await this.client.updateDataItem({...l,dataCollectionId:d,dataItem:{id:s._id,data:s},...Xd(o)});return J(u)}))),this.remove=E(async(c,d,s,o)=>(await S().arity("remove",c,2,3).collectionName(d).itemId(s).options(o).validateAndReject(),this.trace("remove",{collectionName:d,itemId:s})(async l=>{const{dataItem:u}=await this.client.removeDataItem({...l,dataCollectionId:d,dataItemId:s,...Ta(o)}).catch(fa(Fa,{}));return u?J(u):null}))),this.toFieldModificationApi=c=>{switch(c.action){case"SET_FIELD":return{action:ct.SET_FIELD,fieldPath:c.fieldPath,setFieldOptions:{value:c.actionOptions}};case"REMOVE_FIELD":return{action:ct.REMOVE_FIELD,fieldPath:c.fieldPath};case"INCREMENT_FIELD":return{action:ct.INCREMENT_FIELD,fieldPath:c.fieldPath,incrementFieldOptions:{value:c.actionOptions}};case"APPEND_TO_ARRAY":return{action:ct.APPEND_TO_ARRAY,fieldPath:c.fieldPath,appendToArrayOptions:{value:c.actionOptions}};case"REMOVE_FROM_ARRAY":return{action:ct.REMOVE_FROM_ARRAY,fieldPath:c.fieldPath,removeFromArrayOptions:{value:c.actionOptions}};default:throw new Error("Invalid patch action")}},this.patch=(c,d)=>new ma({collectionName:c,itemId:d,onRun:async(s,o,l)=>{const u=o.fieldModifications.map(this.toFieldModificationApi);return this.trace("patch",{collectionName:c})(async I=>{const A=await this.client.patchDataItem({...I,dataCollectionId:o.collectionName,patch:{dataItemId:o.itemId,fieldModifications:u},...Ea(l)});return A.dataItem?J(A.dataItem):null})}}),this.bulkPatch=(c,d)=>new ha({collectionName:c,itemIds:d,onRun:async(s,o,l)=>{const u=o.fieldModifications.map(this.toFieldModificationApi);return this.trace("bulkPatch",{collectionName:c})(async I=>{const{results:A}=await this.client.bulkPatchDataItems({...I,dataCollectionId:o.collectionName,patches:o.itemIds.map(b=>({dataItemId:b,fieldModifications:u})),...Ea(l)});return Tt(d,A,["WDE0073"])})}}),this.query=c=>{const d=s=>{if(s.length>0)throw ft(v.queryValidations.queryInvalid(c,s))};return new la({collectionName:c,onCount:async(s,o,l)=>(d([...o.invalidArguments,...S().collectionName(c).arity("count",s,0,1).options(l).validateAndReturn()]),this.trace("count",{collectionName:c})(async u=>{const{totalCount:I}=await this.client.countDataItems({...u,dataCollectionId:c,filter:o.filterTree,...j(l)});return I})),onDistinct:async(s,o,l,u)=>{var C;d([...o.invalidArguments,...S().collectionName(c).arity("distinct",s,1,2).fieldName(l).options(u).validateAndReturn()]);const I=(C=Et(o.orderBy).find(O=>O.fieldName===l))==null?void 0:C.order,A=(O,z)=>this.trace("distinct",{collectionName:c,field:l})(async Pt=>{const{distinctValues:G,pagingMetadata:gn}=await this.client.queryDistinctValues({...Pt,dataCollectionId:c,...j(u),...nt(o.limitNumber,O),..._t(O)?{fieldName:l,filter:o.filterTree,order:I,returnTotalCount:z}:{}});return[G,gn]}),[b,R]=await A(o.skipNumber,u==null?void 0:u.returnTotalCount);return new Y(b,R,A,o)},onFind:async(s,o,l)=>{d([...o.invalidArguments,...S().collectionName(c).arity("find",s,0,1).options(l).validateAndReturn()]);const u=(b,R)=>this.trace("query",{collectionName:c})(async C=>{const{dataItems:O,pagingMetadata:z}=await this.client.queryDataItems({...C,dataCollectionId:c,query:{fields:o.projectedFields,...nt(o.limitNumber,b),..._t(b)?{filter:o.filterTree,sort:Et(o.orderBy)}:{}},referencedItemOptions:o.included,...j(l),..._t(b)?{returnTotalCount:R}:{},...o.randomSortOptions?{sortMode:Qt.RANDOM,randomOptions:{seed:o.randomSortOptions.seed}}:{}});return[O.map(J),z]}),[I,A]=await u(o.skipNumber,l==null?void 0:l.returnTotalCount);return new Y(I,A,u,o)}})},this.search=c=>{const d=s=>{if(s.length>0)throw ft(v.queryValidations.queryInvalid(c,s))};return new pa({collectionName:c,onRun:async(s,o)=>{d([...s.invalidArguments,...S().collectionName(c).options(o).validateAndReturn()]);const l=s.queryText,u=b=>this.trace("search",{collectionName:c,expression:l})(async R=>{const C={...R,dataCollectionId:c,search:{filter:s.filterTree,sort:Et(s.orderBy),fields:s.projectedFields,search:{expression:s.queryText,fuzzy:s.isFuzzy,mode:s.searchMode},...nt(s.limitNumber,b)},referencedItemOptions:s.included,...j(o)},{dataItems:O,pagingMetadata:z}=await this.client.searchDataItems(C);return[O.map(J),z]}),[I,A]=await u(s.skipNumber);return new Y(I,A,u,s)}})},this.fetch=E(async(c,d,s,o,l)=>{await S().arity("fetch",c,2,4).collectionName(d).isNonEmptyString(s,"cursor").validateAndReject();const u=b=>this.trace("query",{collectionName:d})(async R=>{const{dataItems:C,pagingMetadata:O}=await this.client.queryDataItems({...R,dataCollectionId:d,query:{...nt(o,b)},...j(l)});return[C.map(J),O]}),[I,A]=await u(s);return new Y(I,A,u,{limitNumber:o,collectionName:d,skipNumber:0})}),this.aggregate=c=>new ua({collectionName:c,onRun:async(d,s,o)=>{const l=[...s.invalidArguments,...S().arity("run",d,0,1).collectionName(c).options(o).validateAndReturn()];if(l.length>0)throw ft(v.aggregateValidations.aggregateInvalid(c,l));const u=(b,R)=>this.trace("aggregate",{collectionName:c})(async C=>{const O=G=>G?{itemFieldName:G}:void 0,{results:z,pagingMetadata:Pt}=await this.client.aggregateDataItems({...C,dataCollectionId:c,...nt(s.limitNumber,b),...j(o),..._t(b)?{initialFilter:s.filterTree,aggregation:{groupingFields:s.groupBy,operations:s.aggregates.map(G=>({resultFieldName:G.name,average:O(G.avg),min:O(G.min),max:O(G.max),sum:O(G.sum),itemCount:G.count?{}:void 0}))},finalFilter:s.havingTree,sort:Et(s.orderBy),returnTotalCount:R}:{}});return[ka(z),Pt]}),[I,A]=await u(s.skipNumber,o==null?void 0:o.returnTotalCount);return new Y(I,A,u,s)}}),this.fetchAggregate=E(async(c,d,s,o,l)=>{await S().arity("fetchAggregate",c,2,4).collectionName(d).isNonEmptyString(s,"cursor").validateAndReject();const u=b=>this.trace("aggregate",{collectionName:d})(async R=>{const{results:C,pagingMetadata:O}=await this.client.aggregateDataItems({...R,dataCollectionId:d,...nt(o,b),...j(l)});return[ka(C),O]}),[I,A]=await u(s);return new Y(I,A,u,{limitNumber:o,skipNumber:0,collectionName:d})}),this.aggregatePipeline=E(async(c,d,s,o)=>(await S().arity("aggregatePipeline",c,2,3).collectionName(d).validateAndReject(),this.trace("aggregatePipeline",{collectionName:d})(async l=>{const u={...l,dataCollectionId:d,pipeline:s,...o};return this.client.aggregatePipelineDataItems(u)}))),this.bulkRemove=E(async(c,d,s,o)=>(await S().arity("bulkRemove",c,2,3).collectionName(d).itemIds(s,d).bulkRemoveOptions(o).validateAndReject(),this.trace("bulkRemove",{collectionName:d})(async l=>{const{results:u}=await this.client.bulkRemoveDataItems({...l,dataCollectionId:d,dataItemIds:s,...Ta(o)});return Tt(s,u,["WDE0073"])}))),this.bulkInsert=E(async(c,d,s,o)=>(await S().arity("bulkInsert",c,2,3).items(s,d).bulkInsertOptions(o).collectionName(d).validateAndReject(),this.trace("bulkInsert",{collectionName:d,options:o})(async l=>this.runBulkSave(l,d,s,o,(o==null?void 0:o.overrideExisting)??!1)))),this.bulkSave=E(async(c,d,s,o)=>(await S().arity("bulkSave",c,2,3).bulkInsertOptions(o).collectionName(d).items(s,d).validateAndReject(),this.trace("bulkSave",{collectionName:d})(async l=>this.runBulkSave(l,d,s,o)))),this.bulkUpdate=E(async(c,d,s,o)=>(await S().arity("bulkUpdate",c,2,3).bulkUpdateOptions(o).collectionName(d).items(s,d).validateAndReject(),this.trace("bulkUpdate",{collectionName:d})(async l=>{const{results:u}=await this.client.bulkUpdateDataItems({...l,dataCollectionId:d,dataItems:s.map(I=>({id:I._id,data:I})),...zd(o)});return Tt(s,u,["WDE0073"])}))),this.fetchReferenced=E(async(c,d,s,o,l)=>{await S().arity("fetchReferenced",c,2,4).isNonEmptyString(s,"cursor").collectionName(d).validateAndReject();const u=b=>this.trace("fetchReferenced",{collectionName:d})(async R=>{const{results:C,pagingMetadata:O}=await this.client.queryReferencedDataItems({...R,...nt(o,b),...j(l),dataCollectionId:d,fields:l==null?void 0:l.fields});return[Ua(C),O]}),[I,A]=await u(s);return new Y(I,A,u,{collectionName:d,limitNumber:o,skipNumber:0})}),this.queryReferenced=E(async(c,d,s,o,l)=>{await S().arity("queryReferenced",c,3,4).collectionName(d).referenceParameter(s).isNonEmptyString(o,"relationshipAttribute").options(l).validateAndReject();const u=tt(s),I=(R,C)=>this.trace("queryReferenced",{collectionName:d,itemId:u,options:l,relationshipAttribute:o})(async O=>{const{results:z,pagingMetadata:Pt}=await this.client.queryReferencedDataItems({...O,...nt((l==null?void 0:l.limit)??50,R),...j(l),dataCollectionId:d,fields:l==null?void 0:l.fields,..._t(R)?{referringItemId:u,referringItemFieldName:o,order:(l==null?void 0:l.order)==="asc"?rt.ASC:(l==null?void 0:l.order)==="desc"?rt.DESC:void 0,returnTotalCount:C}:{}});return[Ua(z),Pt]}),[A,b]=await I((l==null?void 0:l.skip)??0,l==null?void 0:l.returnTotalCount);return new Y(A,b,I,{collectionName:d,limitNumber:(l==null?void 0:l.limit)??50,skipNumber:(l==null?void 0:l.skip)??0})}),this.insertReference=E(async(c,d,s,o,l,u)=>{let I,A,b;typeof s=="string"?(I=Jt(l).map(C=>({relationshipName:s,left:o,right:C})),A=u,b=[4,5]):(I=s,A=o,b=[2,3]),await S().arity("insertReference",c,...b).collectionName(d).references(I).options(A).validateAndReject(),await this.trace("insertReference",{collectionName:d})(async R=>this.client.bulkInsertDataItemReferences({...R,dataCollectionId:d,dataItemReferences:I.map(C=>({referringItemFieldName:C.relationshipName,referringItemId:tt(C.left),referencedItemId:tt(C.right)})),...X(A)}))}),this.replaceReferences=E(async(c,d,s,o,l,u)=>{const I=Jt(l);await S().arity("replaceReferences",c,4,5).collectionName(d).isNonEmptyString(s,"relationshipAttribute").referenceParameter(o).referenceParameters(I).options(u).validateAndReject(),await this.trace("replaceReferences",{collectionName:d,relationshipAttribute:s})(async A=>this.client.replaceDataItemReferences({...A,dataCollectionId:d,referringItemFieldName:s,referringItemId:tt(o),newReferencedItemIds:I.map(tt),...X(u)}))}),this.removeReference=E(async(c,d,s,o,l,u)=>{const I=Jt(l);await S().arity("removeReference",c,4,5).collectionName(d).referenceParameter(o).referenceRemoveParameters(I).isNonEmptyString(s,"relationshipAttribute").options(u).validateAndReject(),await this.trace("removeReference",{collectionName:d,relationshipAttribute:s})(async A=>this.client.bulkRemoveDataItemReferences({...A,dataCollectionId:d,dataItemReferences:I.map(b=>({referringItemFieldName:s,referringItemId:tt(o),referencedItemId:tt(b)})),...X(u)}))}),this.isReferenced=E(async(c,d,s,o,l,u)=>(await S().arity("isReferenced",c,4,5).collectionName(d).referenceParameter(o).referenceParameter(l).options(u).validateAndReject(),this.trace("isReferenced",{collectionName:d,relationshipAttribute:s})(async I=>{const{isReferenced:A}=await this.client.isReferencedDataItem({...I,dataCollectionId:d,referringItemFieldName:s,referringItemId:tt(o),referencedItemId:tt(l),...j(u),consistentRead:u==null?void 0:u.consistentRead});return A}))),this.client=new Gd(a,e)}get wixData(){return this}get filter(){return Zt()}async runBulkSave(a,e,n,r,i=!0){const c={...a,dataCollectionId:e,dataItems:n.map(o=>({id:o._id,data:o})),...X(r)},{results:d}=await(i?this.client.bulkSaveDataItems(c):this.client.bulkInsertDataItems(c));return Tt(n,d,i?[]:["WDE0074"])}trace(a,e){return async n=>{const r=await Qd(this.gridAppId),i={appId:r,environment:this.environment};return this.tracer?this.tracer(`WixDataApi.${a}`,{...e,gridAppId:r,environment:this.environment})(()=>n(i)):n(i)}}}function E(t){return function(...a){return t(arguments,...a)}}function Ea(t){return{suppressHooks:t==null?void 0:t.suppressHooks,...ga(t==null?void 0:t.showDrafts),...Kt(t==null?void 0:t.condition)}}function Jd(t){return{...X(t),includeReferencedItems:t==null?void 0:t.includeReferences}}function Hd(t){return{...X(t),includeReferencedItems:t==null?void 0:t.includeReferences}}function Xd(t){return{...X(t),includeReferencedItems:t==null?void 0:t.includeReferences,...Kt(t==null?void 0:t.condition)}}function zd(t){return{...X(t),...Kt(t==null?void 0:t.condition)}}function X(t){if(!t)return;const a={suppressHooks:t.suppressHooks,appOptions:t.appOptions,...ga(t==null?void 0:t.showDrafts)};if(!Object.entries(a).every(e=>e[1]===void 0))return a}function j(t){return{suppressHooks:t==null?void 0:t.suppressHooks,appOptions:t==null?void 0:t.appOptions,...ga(t==null?void 0:t.showDrafts),consistentRead:t==null?void 0:t.consistentRead,language:t==null?void 0:t.language}}function Kt(t){return t!=null?{condition:{filter:Kd(t)}}:{condition:void 0}}function Ta(t){return{...X(t),...Kt(t==null?void 0:t.condition)}}function ga(t){return t!==void 0?{publishPluginOptions:{includeDraftItems:t}}:{}}function J(t){return t.data}function nt(t,a){return typeof a=="string"?{cursorPaging:{limit:t,cursor:a}}:t!==void 0||a>0?{paging:{limit:t,offset:a}}:{}}function Et(t){return t.map(a=>{const[[e,n]]=Object.entries(a),r=n==="asc"?rt.ASC:n==="desc"?rt.DESC:void 0;return{fieldName:e,order:r}})}async function Qd(t){return typeof(t==null?void 0:t.get)=="function"?t.get():t}function fa(t,a){return e=>{var n,r;return e instanceof Error&&((r=(n=e==null?void 0:e.details)==null?void 0:n.applicationError)==null?void 0:r.code)===t?Promise.resolve(a):Promise.reject(e)}}function Zd(t){const a=Ut(t,n=>n.startsWith("$")),e=Ut(t,n=>n.includes("."));a&&console.error("Data inserted contains field name prefixed with symbol '$'. It is not recommended to use such field names as it will not work with some data operations."),e&&console.warn("Data inserted contains field name containing symbol '.'. It is not recommended to use such field names as it will not work with some data operations.")}function Tt(t,a,e=[]){const n=a.flatMap(s=>{var o,l;return(o=s.itemMetadata)!=null&&o.success||!((l=s.itemMetadata)!=null&&l.error)?[]:e.includes(s.itemMetadata.error.code??"")?[]:[new da(s.itemMetadata.error.description,s.itemMetadata.error.code,t[s.itemMetadata.originalIndex],"BulkError",s.itemMetadata.originalIndex)]}),r=a.filter(s=>{var o;return(o=s.itemMetadata)==null?void 0:o.success}),i=r.filter(s=>s.action===lt.INSERT),c=r.filter(s=>s.action===lt.UPDATE||s.action===lt.PATCH),d=r.filter(s=>s.action===lt.DELETE);return{inserted:i.length,updated:c.length,removed:d.length,skipped:t.length-n.length-r.length,errors:n,insertedItemIds:i.map(s=>{var o;return(o=s.itemMetadata)==null?void 0:o.id}),updatedItemIds:c.map(s=>{var o;return(o=s.itemMetadata)==null?void 0:o.id}),removedItemIds:d.map(s=>{var o;return(o=s.itemMetadata)==null?void 0:o.id})}}function ka(t){return t.map(a=>{const e=a._id;if(F(e)){const[n,...r]=Object.keys(e);if(r.length===0)return a._id=e[n],a}return a})}function Ua(t){return t.map(a=>a.dataItem).filter(tl).map(J)}function tl(t){return t!=null}function tt(t){return typeof t=="string"?t:t._id}function Jt(t){return T(t)?t:[t]}function _t(t){return typeof t=="number"}const Fa="WDE0073";function S(){return Qc(ft)}class va extends jt{constructor(a){super({collectionName:(a==null?void 0:a.collectionName)||"",filterBuilder:a==null?void 0:a.filterBuilder})}copy(a){return new va({collectionName:this.collectionName,filterBuilder:a.filterBuilder||this.filterBuilder})}get invalidArguments(){return[]}build(){return{filter:this.filterBuilder.build()}}}class al{constructor(){this.fields=[]}include(...a){return a.forEach(e=>{this.fields.push({include:{fieldName:e}})}),this}exclude(...a){return a.forEach(e=>{this.fields.push({exclude:{fieldName:e}})}),this}reshape(a,e){return this.addField(a,e),this}projectNested(a,e){return this.addNestedProjectionField(e,a.fields)}addField(a,e){return this.fields.push({reshape:{resultFieldName:e,expression:a.build()}}),this}addNestedProjectionField(a,e){return this.fields.push({projectNested:{resultFieldName:a,fields:e}}),this}build(){return{projection:{fields:this.fields}}}}class el{constructor(a){this.fieldPath=a}build(){return{fieldPath:this.fieldPath}}}class nl{constructor(a){this.value=a}build(){return{text:this.value}}}class hn{constructor(a){this.value=a}build(){return{numeric:this.value}}}class rl{constructor(a){this.expressions=a}build(){return{add:{expressions:this.expressions.map(a=>a.build())}}}}class sl{constructor(a,e){this.firstExpression=a,this.secondExpression=e}build(){return{subtract:{firstExpression:this.firstExpression.build(),secondExpression:this.secondExpression.build()}}}}class il{constructor(a){this.expressions=a}build(){return{multiply:{expressions:this.expressions.map(a=>a.build())}}}}class ol{constructor(a,e){this.firstExpression=a,this.secondExpression=e}build(){return{divide:{firstExpression:this.firstExpression.build(),secondExpression:this.secondExpression.build()}}}}class cl{constructor(a){this.expressions=a}build(){return{sum:{expressions:this.expressions.map(a=>a.build())}}}}class dl{constructor(a){this.expression=a}build(){return{abs:{expression:this.expression.build()}}}}class ll{constructor(a,e){this.firstExpression=a,this.secondExpression=e}build(){return{mod:{firstExpression:this.firstExpression.build(),secondExpression:this.secondExpression.build()}}}}class ul{constructor(a){this.expression=a}build(){return{floor:{expression:this.expression.build()}}}}class hl{constructor(a){this.expression=a}build(){return{ceil:{expression:this.expression.build()}}}}class ml{constructor(a){this.expressions=a}build(){return{concat:{expressions:this.expressions.map(a=>a.build())}}}}class pl{constructor(a){this.expression=a}build(){return{stringify:{expression:this.expression.build()}}}}class gl{constructor(a){this.expression=a}build(){return{toLower:{expression:this.expression.build()}}}}class vl{constructor(a){this.expression=a}build(){return{toUpper:{expression:this.expression.build()}}}}class Pl{constructor(a,e,n){this.expression=a,this.startExpression=e,this.lengthExpression=n}build(){const a={substring:{expression:this.expression.build(),startExpression:this.startExpression.build()}};return this.lengthExpression&&(a.substring.lengthExpression=this.lengthExpression.build()),a}}class _l{constructor(a){this.expression=a}build(){return{length:{expression:this.expression.build()}}}}class Il{constructor(){this.ids=[],this.accumulators=[]}by(a,e){return this.ids.push({expression:a,key:e}),this}sum(a,e){return this.addAccumulator(a,"sum",e)}avg(a,e){return this.addAccumulator(a,"avg",e)}min(a,e){return this.addAccumulator(a,"min",e)}max(a,e){return this.addAccumulator(a,"max",e)}count(a){return this.addAccumulator(new hn(1),"sum",a)}first(a,e){return this.addAccumulator(a,"first",e)}last(a,e){return this.addAccumulator(a,"last",e)}push(a,e){return this.addAccumulator(a,"push",e)}addAccumulator(a,e,n){return this.accumulators.push({type:e,expression:a,resultFieldName:n}),this}build(){return{group:{groupIds:this.ids.map(a=>({expression:a.expression.build(),key:a.key})),accumulators:this.accumulators.map(a=>({[a.type]:{expression:a.expression.build()},resultFieldName:a.resultFieldName}))}}}}class Al{constructor(a){this.arrayFieldName=a}build(){return{unwindArray:{arrayFieldName:this.arrayFieldName}}}}class Dl{constructor(){this.sortFields=[]}ascending(...a){return a.forEach(e=>{this.sortFields.push({fieldName:e,order:rt.ASC})}),this}descending(...a){return a.forEach(e=>{this.sortFields.push({fieldName:e,order:rt.DESC})}),this}build(){return{sort:{values:this.sortFields}}}}class bl{constructor(a){this.count=a}build(){return{limit:this.count}}}class Nl{constructor(a){this.count=a}build(){return{skip:this.count}}}class Sl{constructor(a,e){this.objectFieldName=a,this.destinationFieldName=e}build(){return{objectToArray:{objectFieldName:this.objectFieldName,destinationFieldName:this.destinationFieldName}}}}const yl={filter:()=>new va,project:()=>new al,group:()=>new Il,unwind:t=>new Al(t),sort:()=>new Dl,limit:t=>new bl(t),skip:t=>new Nl(t),objectToArray:(t,a)=>new Sl(t,a)};class xl{constructor(){this.stages=[]}withStages(a){return this.stages=a,this}withPaging(a){const e="cursor"in a;return this.cursorPaging=e?a:void 0,this.offsetPaging=e?void 0:a,this}build(){return{stages:this.stages.map(a=>a.build()),...this.offsetPaging&&{paging:this.offsetPaging},...this.cursorPaging&&{cursorPaging:this.cursorPaging}}}}function Cl(){return new xl}const wl={field:t=>new el(t),text:t=>new nl(t),numeric:t=>new hn(t),add:(...t)=>new rl(t),subtract:(t,a)=>new sl(t,a),multiply:(...t)=>new il(t),divide:(t,a)=>new ol(t,a),sum:(...t)=>new cl(t),abs:t=>new dl(t),mod:(t,a)=>new ll(t,a),floor:t=>new ul(t),ceil:t=>new hl(t),concat:(...t)=>new ml(t),stringify:t=>new pl(t),toLower:t=>new gl(t),toUpper:t=>new vl(t),substring:(t,a,e)=>new Pl(t,a,e),length:t=>new _l(t)};function mn(){const t=typeof $wixContext<"u"&&$wixContext.initWixModules?$wixContext.initWixModules:typeof globalThis.__wix_context__<"u"&&globalThis.__wix_context__.initWixModules?globalThis.__wix_context__.initWixModules:void 0;if(t)return{initWixModules(n,r){return Ht(()=>t(n,r))},fetchWithAuth(){throw new Error("fetchWithAuth is not available in this context")},graphql(){throw new Error("graphql is not available in this context")}};const a=typeof $wixContext<"u"?$wixContext.client:typeof H.client<"u"?H.client:typeof globalThis.__wix_context__<"u"?globalThis.__wix_context__.client:void 0,e=typeof $wixContext<"u"?$wixContext.elevatedClient:typeof H.elevatedClient<"u"?H.elevatedClient:typeof globalThis.__wix_context__<"u"?globalThis.__wix_context__.elevatedClient:void 0;if(!(!a&&!e))return{initWixModules(n,r){if(r){if(!e)throw new Error("An elevated client is required to use elevated modules. Make sure to initialize the Wix context with an elevated client before using elevated SDK modules");return Ht(()=>e.use(n))}if(!a)throw new Error("Wix context is not available. Make sure to initialize the Wix context before using SDK modules");return Ht(()=>a.use(n))},fetchWithAuth:(n,r)=>{if(!a)throw new Error("Wix context is not available. Make sure to initialize the Wix context before using SDK modules");return a.fetchWithAuth(n,r)},getAuth(){if(!a)throw new Error("Wix context is not available. Make sure to initialize the Wix context before using SDK modules");return a.auth},async graphql(n,r,i){if(!a)throw new Error("Wix context is not available. Make sure to initialize the Wix context before using SDK modules");return a.graphql(n,r,i)}}}function Ht(t){const a=globalThis.__wix_context__,e={client:H.client,elevatedClient:H.elevatedClient};let n;globalThis.__wix_context__=void 0,H.client=void 0,H.elevatedClient=void 0,typeof $wixContext<"u"&&(n={client:$wixContext==null?void 0:$wixContext.client,elevatedClient:$wixContext==null?void 0:$wixContext.elevatedClient},delete $wixContext.client,delete $wixContext.elevatedClient);try{return t()}finally{globalThis.__wix_context__=a,H.client=e.client,H.elevatedClient=e.elevatedClient,typeof $wixContext<"u"&&($wixContext.client=n.client,$wixContext.elevatedClient=n.elevatedClient)}}function Ol(t,a){return(...e)=>{const n=mn();return n?n.initWixModules(t,a).apply(void 0,e):t.apply(void 0,e)}}function Rl(t){const a=(...e)=>{const n=mn();return n?n.initWixModules(t).apply(void 0,e):()=>({slug:t.type})};return a.__type=t.__type,a.type=t.type,a.isDomainEvent=t.isDomainEvent,a.transformations=t.transformations,a}function x(t,a=!1){return Ol(t,a)}function El(t,a){const e=pn(t),n=Object.entries(e).some(([i,c])=>i.includes(".")||Array.isArray(c)&&c.some(d=>typeof d=="object"));return a&&n?new URLSearchParams({".r":kl(JSON.stringify(t))}):Object.entries(e).reduce((i,[c,d])=>((Array.isArray(d)?d:[d]).forEach(o=>{o==null||Array.isArray(d)&&typeof o=="object"||i.append(c,o)}),i),new URLSearchParams)}function Tl(t){const a=Wl(t.host),e=jl(a,t.domainToMappings),n=Hl(t.protoPath,t.data||{});return Ql(n,e)}function pn(t,a=""){const e={};return Object.entries(t).forEach(([n,r])=>{const i=r!==null&&typeof r=="object"&&!Array.isArray(r),c=fl(a,n);if(i){const d=pn(r,c);Object.assign(e,d)}else e[c]=r}),e}function fl(t,a){return`${t}${t?".":""}${a}`}const kl=t=>(typeof btoa<"u"?btoa(t):Buffer.from(t,"utf-8").toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Ul=["wix.com","editorx.com"],Fl="_",$l=new RegExp(`\\.(${Ul.join("|")})$`),Ml=["42.wixprod.net","uw2-edt-1.wixprod.net"],Ll="dev.wix-code.com",ql=/{(.*)}/,Bl=new RegExp(`\\.(${Ml.join("|")})$`),Vl=new RegExp(`.*\\.${Ll}$`);function Wl(t){return Gl(t).replace($l,"._base_domain_").replace(Bl,"._api_base_domain_").replace(Vl,"*.dev.wix-code.com")}function Gl(t){return t.replace("create.editorx.com","editor.editorx.com")}function jl(t,a){const e=a[t]||a[Fl];if(e)return e;const n=Kl(t,a);return!n&&Yl(t)?a[Jl]:n??[]}function Kl(t,a){var e;return(e=Object.entries(a).find(([n])=>{const[,...r]=t.split(".");return r.join(".")===n}))==null?void 0:e[1]}function Yl(t){return!!t.match(/\._base_domain_$/)}const Jl="www._base_domain_";function Hl(t,a){return t.split("/").map(e=>Xl(e,a)).join("/")}function Xl(t,a){const e=t.match(ql)||[],n=e[1];if(n){const r=t.replace(e[0],"");return zl(a,n,t,r)}return t}function zl(t,a,e,n){let r=t;for(const i of a.split(".")){if(!r)return e;r=r[i]}return`${r}${n}`}function Ql(t,a){const e=a==null?void 0:a.find(n=>t.startsWith(n.destPath));return e?e.srcPath+t.slice(e.destPath.length):t}class Zl{constructor(a,e,n){this.httpClient=a,this.interceptor=e,this.sideEffects=n}getDataItem(a){return this.execHttpCall(tu,a)}insertDataItem(a){return this.execHttpCall(au,a)}updateDataItem(a){return this.execHttpCall(eu,a)}patchDataItem(a){return this.execHttpCall(nu,a)}saveDataItem(a){return this.execHttpCall(ru,a)}removeDataItem(a){return this.execHttpCall(su,a)}truncateDataItems(a){return this.execHttpCall(iu,a)}bulkInsertDataItems(a){return this.execHttpCall(ou,a)}bulkPatchDataItems(a){return this.execHttpCall(du,a)}bulkUpdateDataItems(a){return this.execHttpCall(cu,a)}bulkSaveDataItems(a){return this.execHttpCall(lu,a)}bulkRemoveDataItems(a){return this.execHttpCall(uu,a)}isReferencedDataItem(a){return this.execHttpCall(hu,a)}bulkInsertDataItemReferences(a){return this.execHttpCall(mu,a)}bulkRemoveDataItemReferences(a){return this.execHttpCall(pu,a)}replaceDataItemReferences(a){return this.execHttpCall(gu,a)}countDataItems(a){return this.execHttpCall(vu,a)}queryDistinctValues(a){return this.execHttpCall(Pu,a)}queryDataItems(a){return this.execHttpCall(_u,a)}aggregateDataItems(a){return this.execHttpCall(Iu,a)}aggregatePipelineDataItems(a){return this.execHttpCall(Au,a)}queryReferencedDataItems(a){return this.execHttpCall(Du,a)}searchDataItems(a){return this.execHttpCall(bu,a)}async execHttpCall(a,e){var r,i,c,d,s,o;const n=Nu(a,e);(i=(r=this.sideEffects)==null?void 0:r.onSiteCall)==null||i.call(r);try{const l=await this.httpClient.request(u=>{const I=n(u);return this.interceptor(I)});return(d=(c=this.sideEffects)==null?void 0:c.onSuccess)==null||d.call(c,l),l}catch(l){throw(o=(s=this.sideEffects)==null?void 0:s.onError)==null||o.call(s,l),l}}}const tu={method:"GET",methodName:"GetDataItem",httpPath:"/v2/items/{dataItemId}"},au={method:"POST",methodName:"InsertDataItem",httpPath:"/v2/items"},eu={method:"POST",methodName:"UpdateDataItem",httpPath:"/v2/items/update"},nu={method:"POST",methodName:"PatchDataItem",httpPath:"/v2/items/patch"},ru={method:"POST",methodName:"SaveDataItem",httpPath:"/v2/items/save"},su={method:"POST",methodName:"RemoveDataItem",httpPath:"/v2/items/remove"},iu={method:"POST",methodName:"TruncateDataItems",httpPath:"/v2/items/truncate"},ou={method:"POST",methodName:"BulkInsertDataItems",httpPath:"/v2/bulk/items/insert"},cu={method:"POST",methodName:"BulkUpdateDataItems",httpPath:"/v2/bulk/items/update"},du={method:"POST",methodName:"BulkPatchDataItems",httpPath:"/v2/bulk/items/patch"},lu={method:"POST",methodName:"BulkSaveDataItems",httpPath:"/v2/bulk/items/save"},uu={method:"POST",methodName:"BulkRemoveDataItems",httpPath:"/v2/bulk/items/remove"},hu={method:"POST",methodName:"IsReferencedDataItem",httpPath:"/v2/items/is-referenced"},mu={method:"POST",methodName:"BulkInsertDataItemReferences",httpPath:"/v2/bulk/items/insert-references"},pu={method:"POST",methodName:"BulkRemoveDataItemReferences",httpPath:"/v2/bulk/items/remove-references"},gu={method:"POST",methodName:"ReplaceDataItemReferences",httpPath:"/v2/items/replace-references"},vu={method:"POST",methodName:"CountDataItems",httpPath:"/v2/items/count"},Pu={method:"POST",methodName:"QueryDistinctValues",httpPath:"/v2/items/query-distinct-values"},_u={method:"POST",methodName:"QueryDataItems",httpPath:"/v2/items/query"},Iu={method:"POST",methodName:"AggregateDataItems",httpPath:"/v2/items/aggregate"},Au={method:"POST",methodName:"AggregatePipelineDataItems",httpPath:"/v2/items/aggregate-pipeline"},Du={method:"POST",methodName:"QueryReferencedDataItems",httpPath:"/v2/items/query-referenced"},bu={method:"POST",methodName:"SearchDataItems",httpPath:"/v2/items/search"},Nu=({method:t,methodName:a,httpPath:e},n)=>{const r=t==="GET"||t==="DELETE";return({host:i})=>({entityFqdn:"wix.data.v2.data_item",method:t,methodFqn:`com.wixpress.cloud.data.api.data.DataItemService.${a}`,url:Su({protoPath:e,data:n,host:i}),data:r?void 0:n,params:r?El(n):void 0})},Su=t=>Tl(Object.assign(t,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/cloud-data",destPath:""}],"cloud-data.wix-code.com":[{srcPath:"",destPath:""}],_:[{srcPath:"/_api/cloud-data",destPath:""}],"www._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""}],"dev._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""}],"bo._base_domain_":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"wixbo.ai":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"manage._base_domain_":[{srcPath:"/_api/cloud-data",destPath:""},{srcPath:"/_api/data",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"blocks._base_domain_":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}],"create.editorx":[{srcPath:"/_api/cloud-data/v2/bulk",destPath:"/v2/bulk"}],"www.wixapis.com":[{srcPath:"/wix-data/v2",destPath:"/v2"}],"*.dev.wix-code.com":[{srcPath:"/_api/cloud-data/v2",destPath:"/v2"}]}}));function y(t,a,e){const n=i=>new Zl(t,i,a);return new Yd(n,!0,e)}var ta;(function(t){t.UNKNOWN="UNKNOWN",t.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",t.MEMBER="MEMBER",t.WIX_USER="WIX_USER",t.APP="APP"})(ta||(ta={}));async function yu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).insert(t,a,e)}async function xu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).update(t,a,e)}async function Cu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).save(t,a,e)}async function wu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).get(t,a,e)}async function Ou(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).remove(t,a,e)}async function Ru(t){const{httpClient:a,sideEffects:e}=arguments[1];return y(a,e).truncate(t)}async function Eu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).bulkInsert(t,a,e)}async function Tu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).bulkUpdate(t,a,e)}async function fu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).bulkSave(t,a,e)}async function ku(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).bulkRemove(t,a,e)}async function Uu(t,a,e,n,r){const{httpClient:i,sideEffects:c}=arguments[5];return y(i,c).isReferenced(t,a,e,n,r)}async function Fu(t,a,e,n,r){const{httpClient:i,sideEffects:c}=arguments[5];return typeof a!="string"&&e==null&&n==null?y(i,c).insertReference(t,a,r):y(i,c).insertReference(t,a,e,n,r)}async function $u(t,a,e,n,r){const{httpClient:i,sideEffects:c}=arguments[5];return y(i,c).removeReference(t,a,e,n,r)}async function Mu(t,a,e,n,r){const{httpClient:i,sideEffects:c}=arguments[5];return y(i,c).replaceReferences(t,a,e,n,r)}function Lu(t,a){const{httpClient:e,sideEffects:n}=arguments[2];return y(e,n).patch(t,a)}function qu(t,a){const{httpClient:e,sideEffects:n}=arguments[2];return y(e,n).bulkPatch(t,a)}function Bu(t){const{httpClient:a,sideEffects:e}=arguments[1];return y(a,e).query(t)}function Vu(t){const{httpClient:a,sideEffects:e}=arguments[1];return y(a,e).search(t)}function Wu(t){const{httpClient:a,sideEffects:e}=arguments[1];return y(a,e).aggregate(t)}async function Gu(t,a,e){const{httpClient:n,sideEffects:r}=arguments[3];return y(n,r).aggregatePipeline(t,a,e)}async function ju(t,a,e,n){const{httpClient:r,sideEffects:i}=arguments[4];return y(r,i).queryReferenced(t,a,e,n)}function Ku(){const{httpClient:t,sideEffects:a}=arguments[0];return y(t,a).filter}function Yu(t){const{httpClient:a,sideEffects:e}=arguments[1];return y(a,e,t)}var aa;(function(t){t.LIVE="LIVE",t.SANDBOX="SANDBOX",t.SANDBOX_PREFERRED="SANDBOX_PREFERRED"})(aa||(aa={}));const Ju={id:"_id",createdDate:"_createdDate",updatedDate:"_updatedDate"};function Hu(t,a,e){const n=i=>e.includes(i),r=(i,c)=>{if(Array.isArray(i))i.forEach(d=>{r(d,c)});else if(typeof i=="object"&&i!==null){const d=i;Object.keys(d).forEach(s=>{const o=c===""?s:`${c}.${s}`;n(o)||(s in a&&!(a[s]in d)&&(d[a[s]]=d[s],delete d[s]),r(d[s],o))})}};return r(t,""),t}function Pa(t,a=[]){return Hu(t,Ju,a)}function It(t,{path:a,isRepeated:e,isMap:n},r){const i=a.split(".");if(i.length===1&&a in t)return t[a]=e?t[a].map(r):n?Object.fromEntries(Object.entries(t[a]).map(([s,o])=>[s,r(o)])):r(t[a]),t;const[c,...d]=i;if(c.endsWith("{}")){const s=c.slice(0,-2);t[s]=Object.fromEntries(Object.entries(t[s]).map(([o,l])=>[o,It(l,{path:d.join("."),isRepeated:e,isMap:n},r)]))}else Array.isArray(t[c])?t[c]=t[c].map(s=>It(s,{path:d.join("."),isRepeated:e,isMap:n},r)):c in t&&typeof t[c]=="object"&&t[c]!==null?t[c]=It(t[c],{path:d.join("."),isRepeated:e,isMap:n},r):c==="*"&&Object.keys(t).reduce((s,o)=>(s[o]=It(t[o],{path:d.join("."),isRepeated:e,isMap:n},r),s),t);return t}function _a(t,a){return a.reduce((e,{paths:n,transformFn:r})=>n.reduce((i,c)=>It(i,c,r),e),t)}function Ia(t){return t?new Date(t):void 0}function Xu(t){return a=>Yu(a,{httpClient:t})}function zu(t){return(a,e,n)=>yu(a,e,n,{httpClient:t})}function Qu(t){return(a,e,n)=>xu(a,e,n,{httpClient:t})}function Zu(t){return(a,e,n)=>Cu(a,e,n,{httpClient:t})}function th(t){return(a,e,n)=>wu(a,e,n,{httpClient:t})}function ah(t){return(a,e,n)=>Ou(a,e,n,{httpClient:t})}function eh(t){return a=>Ru(a,{httpClient:t})}function nh(t){return(a,e,n)=>Eu(a,e,n,{httpClient:t})}function rh(t){return(a,e,n)=>Tu(a,e,n,{httpClient:t})}function sh(t){return(a,e,n)=>fu(a,e,n,{httpClient:t})}function ih(t){return(a,e,n)=>ku(a,e,n,{httpClient:t})}function oh(t){return(a,e,n,r,i)=>Uu(a,e,n,r,i,{httpClient:t})}function ch(t){return(a,e,n,r,i)=>Fu(a,e,n,r,i,{httpClient:t})}function dh(t){return(a,e,n,r,i)=>$u(a,e,n,r,i,{httpClient:t})}function lh(t){return(a,e,n,r,i)=>Mu(a,e,n,r,i,{httpClient:t})}function uh(t){return a=>Bu(a,{httpClient:t})}function hh(t){return a=>Vu(a,{httpClient:t})}function mh(t){return(a,e)=>Lu(a,e,{httpClient:t})}function ph(t){return(a,e)=>qu(a,e,{httpClient:t})}function gh(t){return a=>Wu(a,{httpClient:t})}function vh(t){return(a,e,n)=>Gu(a,e,n,{httpClient:t})}function Ph(t){return(a,e,n,r)=>ju(a,e,n,r,{httpClient:t})}function _h(t){return()=>Ku({httpClient:t})}const Ih=na("wix.data.v2.data_item_created",!0,t=>Pa(_a(N(t),[{transformFn:Ia,paths:[{path:"metadata.eventTime"}]}]),["entity.data"]))(),Ah=na("wix.data.v2.data_item_updated",!0,t=>Pa(_a(N(t),[{transformFn:Ia,paths:[{path:"metadata.eventTime"}]}]),["entity.data"]))(),Dh=na("wix.data.v2.data_item_deleted",!0,t=>Pa(_a(N(t),[{transformFn:Ia,paths:[{path:"metadata.eventTime"}]}]),["entity.data"]))();function Aa(t){return Rl(t)}const bh=x(zu),Nh=x(Qu),Sh=x(Zu),yh=x(th),xh=x(ah),Ch=x(eh),wh=x(nh),Oh=x(rh),Rh=x(sh),Eh=x(ih),Th=x(oh),fh=x(ch),kh=x(dh),Uh=x(lh),Fh=x(uh),$h=x(hh),Mh=x(mh),Lh=x(ph),qh=x(gh),Bh=x(vh),Vh=x(Ph),Wh=x(_h),Gh=x(Xu),jh=Aa(Ih),Kh=Aa(Ah),Yh=Aa(Dh),om=Object.freeze(Object.defineProperty({__proto__:null,get Environment(){return aa},get WebhookIdentityType(){return ta},aggregate:qh,aggregatePipeline:Bh,bulkInsert:wh,bulkPatch:Lh,bulkRemove:Eh,bulkSave:Rh,bulkUpdate:Oh,expressions:wl,filter:Wh,get:yh,insert:bh,insertReference:fh,isReferenced:Th,onDataItemCreated:jh,onDataItemDeleted:Yh,onDataItemUpdated:Kh,patch:Mh,pipelineBuilder:Cl,query:Fh,queryReferenced:Vh,remove:xh,removeReference:kh,replaceReferences:Uh,save:Sh,search:$h,stages:yl,truncate:Ch,update:Nh,withEnvironment:Gh},Symbol.toStringTag,{value:"Module"}));export{am as backups,em as collections,zh as dataSyncJobs,tm as externalDatabaseConnections,nm as indexes,om as items,rm as movementJobs,Qh as permissions,Zh as sharing,Xh as tasks};
//# sourceMappingURL=index-c33c472a.js.map
